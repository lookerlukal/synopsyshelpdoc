<!DOCTYPE HTML>
<html>
<head>
   <title>um862</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="image analysis,image analysis point-spread plot,PSPRD,PSSOLID,PSVISUAL,ROPD,WPSPRD,ZOPD, ROPD" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />   
   
   <meta http-equiv="X-UA-Compatible" content="IE=8" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet">

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
             padding:0; 
             overflow: hidden; 
             background: #FFFFFF; 
       } 
html {
  overflow-x: auto; overflow-y: scroll;
}
      div#printheader { display: none; }
      #idheader { width:100%; 
                  height:auto; 
                  padding: 0; 
                  margin: 0; 
       } 
      #idcontent { position:relative }                                               
      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}      
      #switchtoggles { text-align: right; padding: 0 5px 0 0; font-size: 90%; } 
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
      .sync-toc { color: #ffffff; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #ffffff; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #ffffff; }
      .sync-toc a:hover { text-decoration: underline; }

   </style>
   <noscript>
   <style type="text/css">
   html, body { overflow: auto; }
   </style> 
   </noscript>
   <style type="text/css" media="print">
      span.f_Heading1 { color: black; }
      #idheader, #printheader img { display:none; }
      #printheader { display: block; margin-top: 20px; }
      #idcontent { margin-top: 10px; position:relative }
   </style>   

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>
   <script type="text/javascript" src="nsh.js"></script>
<!--[if lt IE 7]>
<style type="text/css">
  #idcontent {padding: 0px;} 
  #innerdiv {padding: 10px 5px 5px 10px ;} 
</style> 
<![endif]-->



</head>
<body>


<div id="idcontent"><div id="innerdiv">
<!--ZOOMRESTART-->
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p><a name="psprd"></a><span class="f_mine" style="font-weight: bold;">8.6.2 Point-Spread Function (PSPRD) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um863.htm" class="topiclink">Next</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um8_6_1_2.htm" class="topiclink">Previous</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The diffraction point-spread function may be plotted in a variety of ways with the dialogs </span><span class="f_mine" style="font-weight: bold;">MDI, MIT, MIF, MPF, MPS,</span><span class="f_mine"> </span><span class="f_mine" style="font-weight: bold;">MTP</span><span class="f_mine">, or using the input</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 24px;"><span class="f_mine" style="font-weight: bold;">[ ZOPD / ROPD ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 24px;"><span class="f_mine" style="font-weight: bold;">[ CONTOUR ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 24px;"><span class="f_mine" style="font-weight: bold;">[ PSVISUAL [ </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">MAGN</span><span class="f_mine" style="font-weight: bold;"> [ </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">GAIN</span><span class="f_mine" style="font-weight: bold;"> ] ] ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 24px;"><span class="f_mine" style="font-weight: bold;">[ PSSOLID ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 24px;"><span class="f_mine" style="font-weight: bold;">[W / L]PSPRD { </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">ICOL</span><span class="f_mine" style="font-weight: bold;"> / M / P } </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">HBAR</span><span class="f_mine" style="font-weight: bold;"> </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">NRYS</span><span class="f_mine" style="font-weight: bold;"> 0 </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">GBAR</span><span class="f_mine" style="font-weight: bold;"> [ </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">HT</span><span class="f_mine" style="font-weight: bold;"> { R / L &nbsp;/ 0 } [ C [ </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">FD</span><span class="f_mine" style="font-weight: bold;"> ]]].</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><a name="862nrys"></a><span class="f_mine" style="font-weight: bold; text-decoration: underline;">NRYS</span><span class="f_mine"> is the number of rays to be traced to define the pupil. &nbsp;In the default view (no </span><span class="f_mine" style="font-weight: bold;">CONTOUR</span><span class="f_mine">, </span><span class="f_mine" style="font-weight: bold;">PSVISUAL</span><span class="f_mine">, </span><span class="f_mine" style="font-weight: bold;">R</span><span class="f_mine"> or </span><span class="f_mine" style="font-weight: bold;">L</span><span class="f_mine">), the function is plotted in oblique-perspective with a small &quot;x&quot; plotted at the chief ray point in the primary color for reference. &nbsp;The entire image sampling area is shown at a resolution of 100 points per line over 50 lines. &nbsp;The default (monochromatic) scale gives a plot whose height is about 3.8 inches for a system with no aberrations. &nbsp;The actual height on the plot varies with the intensity of the particular image and may be viewed as a measure of this intensity. &nbsp;For poorly corrected images, however, the height may be so low that the details are difficult to see, and for these cases the optional </span><span class="f_mine" style="font-weight: bold;">[ </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">HT</span><span class="f_mine" style="font-weight: bold;"> ]</span><span class="f_mine"> entry will increase the scale so that the actual height is given by </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">HT</span><span class="f_mine">. &nbsp;A sample grid, and plot, are produced, and the </span><span class="f_mine" style="font-weight: bold;">centroid location</span><span class="f_mine"> of the image is also printed.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The wide-sample option (</span><span class="f_mine" style="font-weight: bold;">WPSPRD</span><span class="f_mine">) samples an area that is twice that of the narrow option. &nbsp;This is intended for cases where the image is so poorly corrected that it spills out of the region of the latter.  </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">See also </span><span class="f_mine" style="font-weight: bold;"><a href="um8615.htm#ofpsprd" class="topiclink">Section 8.6.15</a></span><span class="f_mine"> for evaluating the PSPRD analysis over the spectrum.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p><a name="lpsprd"></a><span class="f_mine">The </span><span class="f_mine" style="font-weight: bold;">LPSPRD</span><span class="f_mine"> version of this command plots a Y-Z section through the image. &nbsp;This gives a longitudinal cross-section of the pattern, through focus, rather than the lateral cross-section of the previous commands. &nbsp;The range of the Z-coordinate is equal to the (+/-) range of the Y-coordinate times the F/number at the image. &nbsp;This feature only works on FOCAL lenses.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">All of the diffraction-pattern features discussed thus far solve what is known as a </span><span class="f_mine" style="font-style: italic;">Fraunhofer</span><span class="f_mine"> integral, which is a simplification of the more general </span><span class="f_mine" style="font-style: italic;">Fresnel</span><span class="f_mine"> integral. &nbsp;The chief difference is that the former is valid only in the far field, ignoring effects that are seen in the vicinity of a diffracting aperture. &nbsp;For the vast majority of lens analysis problems, it is a perfectly valid procedure.</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">But there are cases where it is not. &nbsp;If you were to request an LPSPRD on a system where the exit pupil was at a distance from the image of the same order of magnitude as the z-axis extent of the analysis, then parts of that image would be significantly closer to the aperture than others, and the far-field approximation would not apply.</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">In such cases, two things happen that must be taken into account. &nbsp;First, the effective F/number of the beam is not the same for different values of Z (which is a fundamental assumption of the Fraunhofer integral) and the image structure changes. &nbsp;Second, locations closer to the aperture see in increase in intensity due to the smaller diffraction dimensions that result. &nbsp;To analyze such cases, you may input what we call the </span><span class="f_mine" style="font-weight: bold;">Fresnel Distance (FD)</span><span class="f_mine"> in word 10 of the LPSPRD command. &nbsp;This is the apparent distance from the image plane to the last diffracting aperture in the system, which is usually at the exit pupil.</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">To illustrate this feature, consider a very small lens used to sample the beam in a Shack-Hartman wavefront analyzer. &nbsp;In this example, the lens diameter is only 175 uM, and the focal length is about 5 mm. &nbsp;First, we run the default LPSPRD, to see what the Z-axis extent will be. &nbsp;The results are shown below.</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><img src="sh1.png" width="636" height="510" alt="sh1" style="width:636px;height:510px;border:none"></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">The scale/inch on the plot is given as 8.38 mm. which is clearly not small compared to the Fresnel distance of about 5 mm. &nbsp;So we need to run the program again, this time giving the exit pupil location measured from the image plane, in this case -5.02 (negative because the pupil is to the left). &nbsp;Now the program takes into account the proximity effects described above, and also limits the Z-extent so that the calculation does not reach the singularity that occurs if you go through the aperture. &nbsp;The results are shown below.</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><img src="sh2.png" width="626" height="498" alt="sh2" style="width:626px;height:498px;border:none"></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">Note that the plot is no longer symmetric in Z, and the peak is shifted away from the paraxial focus, in this case by about -1.16 mm. &nbsp;The input for this example was</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">LPSPRD P 0 10000 0 0 3.5 0 0 –5.02.</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">For this analysis, we required the maximum number of rays to avoid the aliasing that otherwise would show up. &nbsp;How did we know that the pupil was at –5.02 measured from the image? &nbsp;Simple: </span></p>
<p class="p_mine" style="margin: 0px 24px 0px 24px;"><span class="f_mine">&nbsp;</span></p>
<p style="margin: 0px 24px 0px 24px;"><span style="font-family: 'Courier New'; font-weight: bold;">SYNOPSYS AI&gt;EPP? </span></p>
<p style="margin: 0px 24px 0px 24px;"><span style="font-family: 'Courier New'; font-weight: bold;">&nbsp;</span></p>
<p style="margin: 0px 24px 0px 24px;"><span style="font-family: 'Courier New'; font-weight: bold;"> The exit pupil location is &nbsp; &nbsp; &nbsp;-0.12765851</span></p>
<p style="margin: 0px 24px 0px 24px;"><span style="font-family: 'Courier New'; font-weight: bold;"> SYNOPSYS AI&gt;BACK? </span></p>
<p style="margin: 0px 24px 0px 24px;"><span style="font-family: 'Courier New'; font-weight: bold;">&nbsp;</span></p>
<p style="margin: 0px 24px 0px 24px;"><span style="font-family: 'Courier New'; font-weight: bold;"> The paraxial image distance (BACK) is &nbsp; &nbsp; &nbsp; 4.89203074</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 24px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 24px;"><span class="f_mine">The desired location is then –4.892 – 0.1277 = -5.02</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">A through-focus version of WPSPRD is also available: see </span><span class="f_mine" style="text-decoration: underline;"><a href="um8610.htm" class="topiclink">Section 8.6.10</a></span><span class="f_mine" style="font-family: 'Times New Roman';">.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">A contour plot of the diffraction pattern is produced if the command </span><span class="f_mine" style="font-weight: bold;">CONTOUR</span><span class="f_mine"> precedes the </span><span class="f_mine" style="font-weight: bold;">PSPRD</span><span class="f_mine"> command.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The pattern is shown as it would appear visually if the command </span><span class="f_mine" style="font-weight: bold;">PSVISUAL</span><span class="f_mine"> precedes the </span><span class="f_mine" style="font-weight: bold;">PSPRD</span><span class="f_mine"> command. &nbsp;The optional parameter </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">MAGN</span><span class="f_mine"> controls the size of the area that is sampled; a value of 1 produces the same sample area as the oblique-perspective view, while a value of 2 would show the image covering half the width and one-fourth the area. &nbsp;Smaller values show a larger area. &nbsp;The parameter </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">GAIN</span><span class="f_mine"> controls the visual gain; a value of 1 shows the entire pattern mapped linearly into color intensities on the monitor (or grayscale if switch 35 is off). &nbsp;This gives an accurate visual picture, but faint fringes may be hard to see; a gain of more than 1 makes the fringes more visible but saturates the display at the peaks. &nbsp;Caution is advised if you request a magnification less than one; in this case you must request a large enough number of rays so that the ray grid in the pupil becomes fine enough to throw higher diffraction orders outside of the displayed area. &nbsp;The pupil is, after all, a two-dimensional grating when it is sampled with a rectangular grid, and all orders appear. &nbsp;If you request 999 rays you can show the image at about 0.3 times magnification, and the higher-orders are off the screen unless the aberrations are quite bad. &nbsp;If this is the case, then use the </span><span class="f_mine" style="font-weight: bold;">W</span><span class="f_mine"> option and request at least 2000 rays. &nbsp;Lower magnification than this is not recommended. </span><span class="f_mine"> If </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;"><a href="um29.htm#switches" class="topiclink">switch 35</a></span><span class="f_mine"> is on, the display is shown in colors that approximate the wavelengths analyzed – except for the infrared and ultraviolet, which are shown in red and violet, respectively, even though they are not actually visible to the eye.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The PSVISUAL directive is also honored by </span><span class="f_mine" style="text-decoration: underline;"><a href="um7_11.htm#gss" class="topiclink">GSS</a></span><span class="f_mine"> (menu MGS), </span><span class="f_mine" style="text-decoration: underline;"><a href="um8610.htm#tfpsprd" class="topiclink">TSPSPRD</a></span><span class="f_mine"> (MTP), and </span><span class="f_mine" style="text-decoration: underline;"><a href="um8611.htm#ofpsprd" class="topiclink">OFPSPRD</a></span><span class="f_mine"> (MPF).</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">A multicolor image will be shown if “</span><span class="f_mine" style="font-weight: bold;">M</span><span class="f_mine">” is entered instead of a color number, while “</span><span class="f_mine" style="font-weight: bold;">P</span><span class="f_mine">” requests just the primary color. &nbsp;The center of the plot will be the chief-ray position in the primary color on multicolor plots. &nbsp;Note that the M option </span><span class="f_mine" style="font-style: italic;">evaluates</span><span class="f_mine"> the image in all colors, but normally (i.e., PVISUAL </span><span class="f_mine" style="font-style: italic;">not</span><span class="f_mine"> requested) displays only the sum of these intensities, without colors. &nbsp;There is also a color display option in this mode, however; see below.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><a name="862strehl"></a><span class="f_mine">The height of the peak and the intensity of the image at that point are listed with the output (except for the colored option (“C” in word 9) and when the FD (Fresnel Distance) is entered). &nbsp;In this case, the input energy is divided between the colors according to the current color weighting. &nbsp;For a monochromatic analysis, all of the energy is assigned to the requested color.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The peak is in normalized linear units and can be used to estimate the value of the </span><span class="f_mine" style="font-weight: bold;">Strehl Ratio</span><span class="f_mine">. &nbsp;(The </span><span class="f_mine" style="text-decoration: underline;"><a href="um868.htm#variance" class="topiclink">VAR</a></span><span class="f_mine"> command will calculate and print the S.R. according to an exponential approximation, but that calculation does not apply except in the case of a uniform circular pupil with no obscuration.) &nbsp;In other cases, it is better to compare the peak value printed by the program to that calculated for a perfect image. &nbsp;To do so, you first need to know what a perfect image looks like. &nbsp;Just enter the </span><span class="f_mine" style="font-weight: bold;">ZOPD</span><span class="f_mine"> command before a PSPRD command, and all of the OPD values will be set to zero. &nbsp;Then enter the </span><span class="f_mine" style="font-weight: bold;">ROPD</span><span class="f_mine"> command, followed by the PSPRD of the image you wish to evaluate, and you will get the peak of that image. &nbsp;Here is an example:</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine">ZOPD</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine">WPSPRD P 1 1000</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine">Z1 = FILE 6</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine">ROPD</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine">WPSPRD P 1 1000</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine">Z2 = FILE 6</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine">= Z2/Z1</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Note the use of the </span><span class="f_mine" style="text-decoration: underline;"><a href="um15142.htm" class="topiclink">Zn</a></span><span class="f_mine"> parameters to divide the peak at full field by the (perfect) peak. &nbsp;The program automatically loads this peak value into location 6 of the </span><span class="f_mine" style="text-decoration: underline;"><a href="um15123.htm" class="topiclink">File Buffer</a></span><span class="f_mine"> when the WPSPRD calculation is performed.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><a name="862illum"></a><span class="f_mine">The program also calculates and lists the </span><span class="f_mine" style="font-weight: bold;">illumination intensity</span><span class="f_mine"> at the peak point. &nbsp;This estimate assumes that the beam initially has a uniform intensity of one watt per unit area at the entrance pupil, and the result is the intensity in watts per unit area at the image. &nbsp;Transmission losses due to coatings are accounted for (in polarization mode) as well as rays lost to vignetting. &nbsp;Absorption losses in the glass are not considered. &nbsp;To get the actual flux at the image, one would multiply the listed intensity by the actual input power divided by the area of the entrance pupil. &nbsp;If the system is in OBG mode, things get more complicated; the Gaussian apodization shows up as an apparent reduction in flux away from the center of the pupil, and the listed intensity is therefore lower. &nbsp;If there are no other sources of loss in the system, then this reduction is just the value printed as “LENS TRANS”. &nbsp;Just divide the listed intensity by this value to get the actual flux.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The illumination intensity calculation depends strongly on the F/number of the image, which is calculated by tracing rays near the center of the pupil and extrapolating. &nbsp;(This is to yield a reasonable answer with systems where the marginal rays will not trace.) &nbsp;But if the rays involved in forming the image converge with an angle substantially different from that corresponding to the F/number so calculated, the intensity result is less reliable. &nbsp;This can occur, for example, with a nonsequential lens where rays at the central zone have a different raytrace history than marginal rays, and the F/numbers of the two are different. &nbsp;In such cases, the intensity result should not be relied upon.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The accuracy of the estimate depends on how much of the image energy is accounted for in the sample array, since the total energy is required when the peak intensity is normalized. &nbsp;PSPRD misses about 3.4% of the energy of a perfect image, while WPSPRD misses about 1.2%, owing to the finite size of the sample areas. &nbsp;The illumination estimate is automatically adjusted for these errors and is therefore very accurate if the image is well corrected. &nbsp;A poorly corrected image loses an additional (unknown) amount, however, and the intensity that is calculated is somewhat larger than it should be as a result. &nbsp;In all cases, WPSPRD is more accurate owing to its larger sample area.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The orientation of the image is indicated by direction arrows on the plot. &nbsp;These must be interpreted with caution, however, in systems with tilts and decenters, because the direction given by the &quot;Y&quot; arrow is actually parallel to a line between the upper and lower </span><span class="f_mine" style="font-style: italic;">rim rays</span><span class="f_mine"> at the final surface, and this may not be parallel to the Y axis of that surface in such systems.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The quantity printed as AIRY DISK RADIUS is equal to 1.22 </span><span class="f_mine" style="font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial';">&lambda;</span><span class="f_mine"> FNUM where FNUM is determined by taking the angle between the rays at the 0.2 and -0.2 zones and adjusting by 5, ignoring vignetting.  </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The command </span><span class="f_mine" style="font-weight: bold;">FORCE FNUM </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">FN</span><span class="f_mine"> can be input before the analysis command to force a different F/number and therefore a different sample spacing, if the default is not appropriate.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><img src="um8f14.png" width="398" height="295" alt="um8f14" style="width:398px;height:295px;border:none"></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The default picture is shown with the Y-axis horizontal, and a scale bar is included to help in estimating sizes. &nbsp;The optional </span><span class="f_mine" style="font-family: 'Times New Roman'; font-weight: bold;">{</span><span class="f_mine" style="font-weight: bold;"> R / L } </span><span class="f_mine">choice will rotate the picture by about 45 degrees, as shown below.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><img src="um8f15.png" width="397" height="294" alt="um8f15" style="width:397px;height:294px;border:none"></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">A sample of the visual appearance plot follows.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><img src="um8f29.png" width="314" height="234" alt="um8f29" style="width:314px;height:234px;border:none"></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The </span><span class="f_mine" style="font-weight: bold;">CONTOUR</span><span class="f_mine"> option draws 10 levels in the narrow mode, and 20 levels in the wide MODE (with </span><span class="f_mine" style="font-weight: bold;">WPSPRD</span><span class="f_mine">).</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Although a multicolor PSPRD plot contains information about all wavelengths in the lens, the default drawing shows only the net intensity distribution, and you cannot tell which colors predominate where. &nbsp;To obtain this additional information, you should request a </span><span class="f_mine" style="font-weight: bold;">color</span><span class="f_mine"> version, with &quot;</span><span class="f_mine" style="font-weight: bold;">C</span><span class="f_mine">&quot; in word 9 of the PSPRD command. &nbsp;This produces a drawing where the line color is adjusted everywhere to approximate the color of the image at that point as it would appear to the eye. &nbsp;A sample color PSPRD plot is shown below</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><img src="psprdc.png" width="710" height="563" alt="psprdc" style="width:710px;height:563px;border:none"></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p><span style="font-size: 11pt;">Wavelengths invisible to the eye are not shown in this case -- although if </span><span style="font-size: 11pt; font-style: italic;">all</span><span style="font-size: 11pt;"> wavelengths are invisible, the plot is shown in grey. &nbsp;Even though the intensity curves themselves are smoothed, the color changes are not. &nbsp;This, like the </span><span style="font-size: 11pt; text-decoration: underline;"><a href="hidd_mit.htm#mit" class="topiclink">MIT</a></span><span style="font-size: 11pt;"> and PSVISUAL features, is more realistic if you use 10 wavelengths with the color weights of the eye assigned. &nbsp;The easiest way to do this is with the Spectrum Wizard, </span><span style="font-size: 11pt; font-weight: bold; text-decoration: underline;"><a href="hidd_spectrumwizard.htm" class="topiclink">MSW</a></span><span style="font-size: 11pt;">.</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 11pt;">This color option, unfortunately, will crash versions of the operating system earlier than Windows 2000. &nbsp;To prevent this from happening, the program will test which version you have and will issue an error message if you request it on such a machine.</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 11pt;">If you ever need to generate a listing of every point in the diffraction pattern, for importing to another program, for example, simply turn on </span><span style="font-size: 11pt; font-weight: bold;">switch 17</span><span style="font-size: 11pt;"> before creating the PSPRD plot. &nbsp;It is best in this case not to turn off switch 55, because the data are then not ordered in a comprehensible fashion. &nbsp;The samples are organized in 57 columns of 60 rows, with a spacing between points of 1.4 (WAVL*FNUM). &nbsp;The center of the image corresponds to data point 1710, and the total array consists of 3420 points.</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 11pt;">(If switch 55 is off, the program creates a triangular array with the center slice listed first, then going off to the sides. &nbsp;Don’t use this option for this purpose.)</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 11pt;">The </span><span style="font-size: 11pt; font-weight: bold;">PSSOLID</span><span style="font-size: 11pt;"> variety opens a rotating-solid-model window with a display of the image that can be rotated, panned, and zoomed as for </span><span style="font-size: 11pt; font-weight: bold; text-decoration: underline;"><a href="hidd_openglwindow.htm" class="topiclink">RSOLID</a></span><span style="font-size: 11pt;"> displays. &nbsp;The picture is always in color. &nbsp;Here is the display for an image with a large amount of lateral color:</span></p>
<p>&nbsp;</p>
<p><img src="clip0315.png" width="634" height="415" alt="clip0315" style="width:634px;height:415px;border:none"></p>
<p>&nbsp;</p>
<p><span class="f_ImageCaption" style="font-size: 11pt; font-weight: normal;">The resolution of PSPRD plots is 60 x 60, which is less than the Nyquist frequency and is sufficient for analysis purposes. &nbsp;If you would like a higher-resolution version, use the Solid option in the </span><span class="f_ImageCaption" style="font-size: 11pt; text-decoration: underline;"><a href="hidd_mit.htm" class="topiclink">Image Tools</a></span><span class="f_ImageCaption" style="font-size: 11pt; font-weight: normal;"> (MIT).</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um863.htm" class="topiclink">Next</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span><span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span></p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">


</script>
</body>
</html>
