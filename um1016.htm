<!DOCTYPE HTML>
<html>
<head>
   <title>um1016</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />   
   
   <meta http-equiv="X-UA-Compatible" content="IE=8" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet">

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
             padding:0; 
             overflow: hidden; 
             background: #FFFFFF; 
       } 
html {
  overflow-x: auto; overflow-y: scroll;
}
      div#printheader { display: none; }
      #idheader { width:100%; 
                  height:auto; 
                  padding: 0; 
                  margin: 0; 
       } 
      #idcontent { position:relative }                                               
      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}      
      #switchtoggles { text-align: right; padding: 0 5px 0 0; font-size: 90%; } 
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
      .sync-toc { color: #ffffff; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #ffffff; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #ffffff; }
      .sync-toc a:hover { text-decoration: underline; }

   </style>
   <noscript>
   <style type="text/css">
   html, body { overflow: auto; }
   </style> 
   </noscript>
   <style type="text/css" media="print">
      span.f_Heading1 { color: black; }
      #idheader, #printheader img { display:none; }
      #printheader { display: block; margin-top: 20px; }
      #idcontent { margin-top: 10px; position:relative }
   </style>   

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>
   <script type="text/javascript" src="nsh.js"></script>
<!--[if lt IE 7]>
<style type="text/css">
  #idcontent {padding: 0px;} 
  #innerdiv {padding: 10px 5px 5px 10px ;} 
</style> 
<![endif]-->



</head>
<body>


<div id="idcontent"><div id="innerdiv">
<!--ZOOMRESTART-->
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p><a name="aed"></a><span class="f_mine" style="font-size: 14pt;">10.16 Automatic Element Deleting (AED) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um1015.htm" class="topiclink">Previous</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um1017.htm" class="topiclink">Next</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">One sometimes designs a great lens but then wonders if the same performance can be obtained with a simpler construction. &nbsp;That question can be answered by AED.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Input is very simple. &nbsp;One prepares an optimization MACro as usual, but adds a line at the top:</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">AED </span><span class="f_mine" style="text-decoration: underline;">LLIB</span><span class="f_mine"> [ QUIET / 0 ] [ </span><span class="f_mine" style="text-decoration: underline;">JSSS [</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">JSPS</span><span class="f_mine"> ] ] &nbsp;[ </span><span class="f_mine" style="text-decoration: underline;">PCV</span><span class="f_mine"> &nbsp;[ C ] ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">PANT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">...</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">END</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">AANT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">...</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">END</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ SNAP </span><span class="f_mine" style="text-decoration: underline;">PASSES</span><span class="f_mine"> ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ DAMP </span><span class="f_mine" style="text-decoration: underline;">DAMPING</span><span class="f_mine"> ] &nbsp; &nbsp; &nbsp; &nbsp;! allowed but ignored by AED</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">SYNO </span><span class="f_mine" style="text-decoration: underline;">PASSES</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">No other commands should interrupt this sequence.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The program first optimizes the current lens with the entered merit function. &nbsp;Then it looks at each element in turn in the range of surfaces from </span><span class="f_mine" style="text-decoration: underline;">JSSS</span><span class="f_mine"> to </span><span class="f_mine" style="text-decoration: underline;">JSPS</span><span class="f_mine">, and for each one does the following:</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">1. &nbsp;Adds variables for the radii and thickness, if they are not already in the PANT file.</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">2. &nbsp;Adds an aberration to target the difference of the curvatures on both sides to zero.</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">3. &nbsp;Adds a target of zero to the thickness of that element.</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">4. &nbsp;Optimizes the system.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">When the process is finished, the best case is saved in library location LLIB and displayed in PAD. &nbsp;This lens still has the original number of elements, but the element targeted for that case then has very little power and small thickness. &nbsp;It is usually easy to see, on the PAD display, how successful the process has been: if the element still appears to have two different curves, then the program was probably not able to reduce the power to zero. &nbsp;In that case it may not be possible to remove it and still correct aberrations. &nbsp;If the element in question has been reduced to what looks like a single surface (because the curves match closely) and the image quality appears adequate, then you can probably remove it. &nbsp;The parameter </span><span class="f_mine" style="text-decoration: underline;">PCV</span><span class="f_mine">, if entered in word 6 of the command, specifies the weight of the curvature-difference aberration, and you can experiment with it to see what value gives a satisfactorily low element power and how much image degradation results. &nbsp;The default weight is 1000.0. &nbsp;The weight of the TH aberration is always 1.0.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">If all looks satisfactory, it is easy to delete the element: the program displays a box asking if you wish to, and if you click the Yes button, the element goes away.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The optional &quot;C&quot;, which can be entered in word 7, requests an additional cycle of optimization after the best case is displayed and you have agreed to delete the element. &nbsp;This time, however, the new aberrations are formatted as </span><span class="f_mine" style="font-style: italic;">corrections</span><span class="f_mine"> rather than minimization, using Lagrange multipliers. &nbsp;This extra step should in most cases reduce the element power and thickness to very close to zero, and when the program deletes that element there is less of a chance of ray failures. </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">This feature does not submit the lens to any annealing after it optimizes each case. &nbsp;To get an accurate picture of what can be removed, it is therefore best if you run a fairly large number of iterations, say 50 or so, so you know each case has been pushed as far as it will go.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">QUIET mode is recommended, since there will be lots of data scrolling on the Command Window that you probably don’t need to see.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The program will only attempt to remove elements where both sides are spherical or flat, there are no pickups or solves involved, and where the second side has no tilts or decenters and is not LOCAL or GLOBAL.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">If both </span><span class="f_mine" style="text-decoration: underline;">JSSS</span><span class="f_mine"> and </span><span class="f_mine" style="text-decoration: underline;">JSPS</span><span class="f_mine"> are zero or missing, the program will treat the entire lens. &nbsp;If </span><span class="f_mine" style="text-decoration: underline;">JSSS</span><span class="f_mine"> is nonzero but </span><span class="f_mine" style="text-decoration: underline;">JSPS</span><span class="f_mine"> is zero or missing, the program will investigate only a single element at </span><span class="f_mine" style="text-decoration: underline;">JSSS</span><span class="f_mine">.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">We should note that there is a corresponding feature that will automatically </span><span class="f_mine" style="font-style: italic;">insert</span><span class="f_mine"> an element. &nbsp;This is the </span><span class="f_mine" style="text-decoration: underline;"><a href="um1017.htm#aei" class="topiclink">AEI</a></span><span class="f_mine"> feature.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">To illustrate the use of the automatic element deleting feature, we start with the lens installed as X33.RLE. &nbsp;This lens at the moment has no paraxial solves, so we elect to add a curvature and thickness solve in order to maintain the first-order properties. &nbsp;We also delete the </span><span class="f_mine" style="text-decoration: underline;"><a href="um78.htm#efile" class="topiclink">EFILE</a></span><span class="f_mine"> edges, since they will not be appropriate after the geometry has changed.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><img src="clip0445.png" width="885" height="563" alt="clip0445" style="width:885px;height:563px;border:none"></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Input is below.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">FET X33</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">CHG</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">14 UMC -.10565 YMT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">END</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">EFILE</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">ERASE</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">END</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">AED 5 QUIET 1 123 1.0E4 C</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">PANT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">VLIST RAD 1 2 3 5 6 7 8 9 10 11 12 13 &nbsp;  </span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">VLIST TH 1 2 3 4 5 6 7 8 9 10 11 12 13 &nbsp;  </span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">VLIST GLM 1 2 5 7 9 10 12 13  </span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">END</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">AANT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">AEC</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">ACC</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">ADT 6 .01 1</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">M 163 .1 A TOTL</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">GSR .5 10 5 P 0 </span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">GSR .5 10 5 1 0 </span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">GSR .5 10 5 3 0 </span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">GNR .5 2 3 P .7 </span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">GNR .5 2 3 1 .7 </span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">GNR .5 2 3 3 .7 </span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">GNR .5 1 3 P 1 </span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">GNR .5 1 3 1 1 </span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">GNR .5 1 3 3 1 </span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">END</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">SNAP</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="font-family: 'Courier New'; font-weight: bold;">SYNO 30</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p>&nbsp;</p>
<p class="p_mine"><span class="f_mine">When finished, the program prints the following:</span></p>
<p>&nbsp;</p>
<p><span style="font-family: 'Courier New'; font-weight: bold;">THE BEST PLACE TO DELETE AN ELEMENT IS AT SURFACE &nbsp;10</span></p>
<p><span style="font-family: 'Courier New'; font-weight: bold;">THE LOWEST MERIT FUNCTION WAS &nbsp; 0.350435E-01</span></p>
<p>&nbsp;</p>
<p><img src="aed03.png" width="488" height="146" alt="aed03" style="width:488px;height:146px;border:none"></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">We click Yes.</span></p>
<p style="margin: 0px 0px 0px 38px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 38px;"><span style="font-family: 'Courier New'; font-weight: bold;"> Get lens no. &nbsp;5 &nbsp; &nbsp; &nbsp; &nbsp;ID 8-ELEMENT TELEPHOTO </span></p>
<p class="p_heading4-2"><span class="f_heading4-2"> REMOVING ELEMENT</span></p>
<p style="margin: 0px 0px 0px 38px;"><span style="font-family: 'Courier New'; font-weight: bold;"> THE SELECTED ELEMENT HAS BEEN DELETED</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The new lens now becomes the following.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><img src="clip0446.png" width="805" height="518" alt="clip0446" style="width:805px;height:518px;border:none"></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">This lens is somewhat better than the original, with one less element.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um1017.htm" class="topiclink">Next</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">


</script>
</body>
</html>
