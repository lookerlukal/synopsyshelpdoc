<!DOCTYPE HTML>
<html>
<head>
   <title>um331</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="apertures, input of" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />   
   
   <meta http-equiv="X-UA-Compatible" content="IE=8" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet">

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
             padding:0; 
             overflow: hidden; 
             background: #FFFFFF; 
       } 
html {
  overflow-x: auto; overflow-y: scroll;
}
      div#printheader { display: none; }
      #idheader { width:100%; 
                  height:auto; 
                  padding: 0; 
                  margin: 0; 
       } 
      #idcontent { position:relative }                                               
      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}      
      #switchtoggles { text-align: right; padding: 0 5px 0 0; font-size: 90%; } 
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
      .sync-toc { color: #ffffff; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #ffffff; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #ffffff; }
      .sync-toc a:hover { text-decoration: underline; }

   </style>
   <noscript>
   <style type="text/css">
   html, body { overflow: auto; }
   </style> 
   </noscript>
   <style type="text/css" media="print">
      span.f_Heading1 { color: black; }
      #idheader, #printheader img { display:none; }
      #printheader { display: block; margin-top: 20px; }
      #idcontent { margin-top: 10px; position:relative }
   </style>   

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>
   <script type="text/javascript" src="nsh.js"></script>
<!--[if lt IE 7]>
<style type="text/css">
  #idcontent {padding: 0px;} 
  #innerdiv {padding: 10px 5px 5px 10px ;} 
</style> 
<![endif]-->



</head>
<body>


<div id="idcontent"><div id="innerdiv">
<!--ZOOMRESTART-->
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">3.3.1 Special Surface Options &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um33.htm" class="topiclink">Previous</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um331.htm#um3311" class="topiclink">Next</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>
<p class="p_c1" style="text-align: left;"><span class="f_c1">&nbsp;</span></p>
<p class="p_c1" style="text-align: left;"><span class="f_c1">The surface number is included in the following data descriptions as a reminder that it must be the first entry on the line.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p><a name="um3311"></a><span class="f_mine" style="font-weight: bold;">3.3.1.1 Clear Aperture Input &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um33.htm" class="topiclink">Previous</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um3312.htm" class="topiclink">Next</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>
<p class="p_c1"><span class="f_c1">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">(These options go into an </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;"><a href="umch3.htm#rle" class="topiclink">RLE</a></span><span class="f_mine"> or </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;"><a href="um361.htm#chg" class="topiclink">CHG</a></span><span class="f_mine"> file, and may be entered interactively with the dialog </span><span class="f_mine" style="font-weight: bold;">SPS</span><span class="f_mine">.)</span></p>
<p class="p_c1"><span class="f_c1">&nbsp;</span></p>
<p class="p_c1" style="text-align: left; margin: 0px 0px 0px 24px;"><img src="um3f4.png" width="567" height="161" alt="um3f4" style="width:567px;height:161px;border:none"></p>
<p class="p_c1"><span class="f_c1">&nbsp;</span></p>
<p class="p_c1" style="text-align: left;"><a name="331def"></a><span class="f_c1">If you do not enter an aperture size for a given surface, a default circular aperture will be calculated by the program automatically, to determine the size of the surface that is to appear on lens drawings. &nbsp;This aperture normally serves no other purpose (but see the effect on nonsequential raytracing in </span><span class="f_c1" style="text-decoration: underline;"><a href="umch18.htm" class="topiclink">Chapter 18</a></span><span class="f_c1">). &nbsp;This feature may be defeated with the system option </span><span class="f_c1" style="font-weight: bold;">NCAP</span><span class="f_c1">, for cases where the rays employed for this purpose are not suitable or will not trace. &nbsp;In this case, you must input </span><span class="f_c1" style="font-style: italic;">all</span><span class="f_c1"> apertures yourself if you want to make a drawing of the lens.</span></p>
<p class="p_c1" style="text-align: left;"><span class="f_c1">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">You can use the form </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">SN</span><span class="f_mine" style="font-weight: bold;"> CFIX {C/E/R} </span><span class="f_mine">to fix the CAO of a single surface, or </span><span class="f_mine" style="font-weight: bold;">CFIX {C/E/R)</span><span class="f_mine"> to fix all surfaces. &nbsp;There are three additional options you can request, for use when surfaces have been assigned default rectangular apertures via the XCAP directive. &nbsp;Once these are assigned, this option will convert the default apertures into a circular (C), elliptical (E), or rectangular (R) hard aperture.</span></p>
<p class="p_c1" style="text-align: left;"><span class="f_c1">&nbsp;</span></p>
<p class="p_c1" style="text-align: left;"><a name="dccr"></a><span class="f_c1">The default aperture is normally centered at the vertex of the surface, but you may request that it instead be centered at the middle of the ray pattern. &nbsp;This is useful when designing free-form mirrors, which are often decentered with respect to the axis ray. &nbsp;This is done by assigning a declaration to the surface:</span></p>
<p class="p_c1" style="text-align: left;"><span class="f_c1">&nbsp;</span></p>
<p class="p_c1" style="text-align: left; margin: 0px 0px 0px 24px;"><span class="f_c1" style="font-weight: bold; text-decoration: underline;">SN</span><span class="f_c1" style="font-weight: bold;"> DCCR</span><span class="f_c1">.</span></p>
<p class="p_c1" style="text-align: left;"><span class="f_c1">&nbsp;</span></p>
<p class="p_c1" style="text-align: left;"><span class="f_c1">in the RLE or CHG file. &nbsp;The program traces the upper and lower rim rays at the upper and lower field points, finds the extreme upper and lower points on the surface, and puts the center of the default CAO midway between them. &nbsp;This tells you the size and location of the off-axis section of the mirror that is actually used. &nbsp;If this declaration is in effect, the perspective drawing programs will clip the surface area they draw to the decentered CAO.</span></p>
<p class="p_c1" style="text-align: left;"><span class="f_c1">&nbsp;</span></p>
<p class="p_c1" style="text-align: left;"><span class="f_c1">To remove this declaration, use </span></p>
<p class="p_c1" style="text-align: left;"><span class="f_c1">&nbsp;</span></p>
<p class="p_c1" style="text-align: left; margin: 0px 0px 0px 24px;"><span class="f_c1" style="font-weight: bold; text-decoration: underline;">SN</span><span class="f_c1" style="font-weight: bold;"> DCAX</span><span class="f_c1">.</span></p>
<p class="p_c1" style="text-align: left;"><span class="f_c1">&nbsp;</span></p>
<p class="p_c1" style="text-align: left;"><span class="f_c1">A given surface may have one outside aperture, plus one inside aperture, plus an unusual aperture of type 3, 4, 5, or 6. &nbsp;Unusual aperture type 6 does not permit an additional inside aperture. The mnemonics are defined below. &nbsp;(Lenses can also be assigned </span><span class="f_c1" style="font-weight: bold; text-decoration: underline;"><a href="um78.htm#efile" class="topiclink">EFILE</a></span><span class="f_c1"> edges, which let you model bevels and flats explicitly, for precise element drawings.)</span></p>
<p class="p_c1"><span class="f_c1">&nbsp;</span></p>
<p class="p_c1"><span class="f_c1">&nbsp;</span></p>
<p><a name="cao"></a><span class="f_c1">CAO and CAI input a circular aperture outside and inside, with a radius of </span><span class="f_c1" style="text-decoration: underline;">RADIUS</span><span class="f_c1"> and an optional center offset given by </span><span class="f_c1" style="text-decoration: underline;">XOS</span><span class="f_c1"> and </span><span class="f_c1" style="text-decoration: underline;">YOS</span><span class="f_c1" style="font-family: 'Times New Roman';">.</span></p>
<p class="p_c1"><span class="f_c1">&nbsp;</span></p>
<p class="p_c1"><span class="f_c1">&nbsp;</span></p>
<p><a name="rao"></a><span class="f_c1">RAO and RAI input enter a rectangular aperture, either outside or inside, with center offset. &nbsp;The dimensions XS and YS give the full dimension in (X,Y). &nbsp;You may combine an RAO aperture with an </span><span class="f_c1" style="font-weight: bold; text-decoration: underline;"><a href="um78.htm#efile" class="topiclink">EFILE</a></span><span class="f_c1"> edge description for elements with a compound shape. &nbsp;In this case, the RAO cannot be decentered if it is applied to a lens, but may be if applied to a mirror.</span></p>
<p class="p_c1" style="text-align: left;"><span class="f_c1">&nbsp;</span></p>
<p class="p_c1" style="text-align: left;"><a name="eao"></a><span class="f_c1">EAO and EAI enter an elliptical aperture, outside or inside, with semi axes of B and A, defined as follows:</span></p>
<p class="p_c1"><span class="f_c1">&nbsp;</span></p>
<p class="p_p2-11"><img src="um3f5.png" width="428" height="152" alt="um3f5" style="width:428px;height:152px;border:none"></p>
<p class="p_c1"><span class="f_c1">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p><a name="uap"></a><span class="f_mine">The so-called </span><span class="f_mine" style="font-style: italic;">unusual </span><span class="f_mine">apertures are of six kinds, entered with the </span><span class="f_mine" style="font-weight: bold;">UAP </span><span class="f_mine">selection. &nbsp;Types 1 and 2 are converted to the CAO and RAO specification; types 3 and 4 define a polygon, either outside or inside. &nbsp;To enter the triangular obscuration shown below, on surface 3 for example, the input would be</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><img src="um3f6.png" width="345" height="266" alt="um3f6" style="width:345px;height:266px;border:none"></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">3 UAP 4 3</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">0.5 1</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">1 -0.5</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">-1 -1</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Here we specified UAP type 4 with three vertices, and then entered three vertex positions in (X,Y) taking the corners in a clockwise direction. &nbsp;You are advised that, if you want to assign an unusual aperture to an element, it is wise to assign it to </span><span class="f_mine" style="font-style: italic;">both</span><span class="f_mine"> sides of the element. &nbsp;Then the drawing programs, such as <a href="um72.htm#solid" class="topiclink">SOLID</a>, will render it properly.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">UAP 5 gives an apodized surface, with a selection of intensity distributions, shown below</span></p>
<p class="p_p10-2"><span class="f_p10-2">&nbsp;</span></p>
<p class="p_mine"><img src="um3f7.png" width="345" height="474" alt="um3f7" style="width:345px;height:474px;border:none"></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">These apertures are honored by most of the analysis programs. &nbsp;For UAP 5 type 2, the transmission is given by</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span style="width:48px">&nbsp;</span><span class="f_mine">T = A * exp( -C * ( r - B ) **2 )</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">where r is the waist radius. &nbsp;If you want the 1/e**2 point to be at location X, then the parameter C should be 1/X**2. &nbsp;(And you can also emulate a Gaussian beam profile with the </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;"><a href="um314.htm" class="topiclink">GAUSSIAN</a></span><span class="f_mine"> system declaration, which does not require a UAP aperture.)</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">There are two additional types, 7 and 8; these are the same as type 2 except that they only apodize in one dimension. &nbsp;Type 7 reduces the transmission as a function of X, and type 8 as a function of Y.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><a name="uap6"></a><span class="f_mine">UAP type 6 is an annular obscuration; that is, the obscuration becomes transmitting again in a central portion. &nbsp;For this type, </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">R1</span><span class="f_mine"> is the outer radius of the annulus, and </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">R2</span><span class="f_mine"> is the inner radius.  </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">XOS</span><span class="f_mine"> and </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">YOS</span><span class="f_mine"> are the location of the center of the annulus. &nbsp;Rays falling within radius R2 are transmitted, while rays within R1 but not within R2 are obscured.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">To remove a current aperture of any kind, use </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">SN</span><span class="f_mine" style="font-weight: bold;"> NAP</span><span class="f_mine">, or use </span><span class="f_mine" style="text-decoration: underline;"><a href="um32.htm#cfree" class="topiclink">CFREE</a></span><span class="f_mine"> to remove all current CAO's, RAO's, and EAO's (but not UAP's).</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">An aperture may be assigned to the</span><span class="f_mine" style="font-weight: bold;"> final surface</span><span class="f_mine">, and in focal mode it can vignette as can any other surface. &nbsp;In AFOCAL mode, an aperture on the final surface will show up on drawings, but will not cause vignetting, since the ray coordinates are then angles.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">You can also use the </span><span class="f_mine" style="text-decoration: underline;"><a href="um32.htm#cfix" class="topiclink">CFIX</a></span><span class="f_mine"> directive to assign a hard aperture to a given surface. &nbsp;Use the input</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span style="width:48px">&nbsp;</span><span class="f_mine" style="text-decoration: underline;">SN</span><span class="f_mine"> CFIX</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">in a CHG file. &nbsp;The program must have calculated default apertures before this option will work.</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 11pt; font-family: 'Times New Roman';">  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um3312.htm" class="topiclink">Next</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span><span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um331.htm" class="topiclink">previous</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span><span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">


</script>
</body>
</html>
