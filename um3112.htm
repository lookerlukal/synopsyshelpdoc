<!DOCTYPE HTML>
<html>
<head>
   <title>um3112</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="implied pupil,pupil,pupil implied,Stop, finding best location for" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />   
   
   <meta http-equiv="X-UA-Compatible" content="IE=8" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet">

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
             padding:0; 
             overflow: hidden; 
             background: #FFFFFF; 
       } 
html {
  overflow-x: auto; overflow-y: scroll;
}
      div#printheader { display: none; }
      #idheader { width:100%; 
                  height:auto; 
                  padding: 0; 
                  margin: 0; 
       } 
      #idcontent { position:relative }                                               
      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}      
      #switchtoggles { text-align: right; padding: 0 5px 0 0; font-size: 90%; } 
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
      .sync-toc { color: #ffffff; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #ffffff; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #ffffff; }
      .sync-toc a:hover { text-decoration: underline; }

   </style>
   <noscript>
   <style type="text/css">
   html, body { overflow: auto; }
   </style> 
   </noscript>
   <style type="text/css" media="print">
      span.f_Heading1 { color: black; }
      #idheader, #printheader img { display:none; }
      #printheader { display: block; margin-top: 20px; }
      #idcontent { margin-top: 10px; position:relative }
   </style>   

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>
   <script type="text/javascript" src="nsh.js"></script>
<!--[if lt IE 7]>
<style type="text/css">
  #idcontent {padding: 0px;} 
  #innerdiv {padding: 10px 5px 5px 10px ;} 
</style> 
<![endif]-->



</head>
<body>


<div id="idcontent"><div id="innerdiv">
<!--ZOOMRESTART-->
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">3.1.1.2 Implied Pupil &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um3111.htm" class="topiclink">Previous</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um312.htm" class="topiclink">Next</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">All lens design programs let you specify which surface of the lens is the stop surface, and this designation affects all ray tracing as explained in the previous sections. &nbsp;But sometimes you want the program to tell you where the stop should go, not the other way around. &nbsp;If there is a great design that needs the stop on a different surface from where it is now, you want to know about it, don’t you? &nbsp;SYNOPSYS can tell you.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">To do this you need to set up an </span><span class="f_mine" style="font-style: italic;">implied</span><span class="f_mine"> pupil. &nbsp;First, you tell the program that the stop is on surface 1, with </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span style="width:48px">&nbsp;</span><span class="f_mine">APS 1 </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">in the RLE or CHG file. &nbsp;Then give a nonzero dimension for the quantity YP1 with the object description. &nbsp;For example you might specify</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span style="width:48px">&nbsp;</span><span class="f_mine">OBB 0 20 15.77 -4.6</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">In the lens file, here giving an explicit value for YP1 (-4.6), which will be used by the paraxial raytrace program to define the chief ray. &nbsp; (Note that the APS entry should come </span><span class="f_mine" style="font-style: italic;">before</span><span class="f_mine"> the object description in the RLE file, since the program sets YP1 to zero at that time, and the object entry must follow so the new value gets processed afterwards.)</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">You can also enter a desired value with an AI sentence such as</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span style="width:48px">&nbsp;</span><span class="f_mine">YP1 = -4.6 </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">after the RLE file is processed.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Since the real-ray raytrace starts out with this value of YP1 at surface 1 when it traces a chief ray (or a fraction of that value if the ray is not from the full-field object), the real chief ray will be close to the paraxial ray as well. &nbsp;Your stop is thus implied, and you can evaluate the lens as if the stop were at the point on the axis where the paraxial chief ray crosses the axis. &nbsp;This is a powerful tool, and you can adjust the YP1 value in the WorkSheet, with a slider, while you monitor the effect on the aberrations. &nbsp;Even better, you can vary this value during optimization, with the variable YP1, and the program will adjust it as it minimizes the merit function. &nbsp;Thus, if your lens is set up as described above, your </span><span class="f_mine" style="text-decoration: underline;"><a href="um102.htm#pant" class="topiclink">PANT</a></span><span class="f_mine"> file could look like</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">PANT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">VY 0 YP1</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">…</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">END.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">There is also a real-pupil variety of the implied pupil: just specify the stop surface as </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span style="width:48px">&nbsp;</span><span class="f_mine">APS –1</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">with your input. &nbsp;The negative sign puts the real pupil in effect, and the program will perform an iterative search for the real ray that crosses the axis at the same location as the paraxial chief ray when this protocol is followed. &nbsp;(This search only works if that crossing is somewhere between the first and last surface. &nbsp;If the stop is in front of the lens, there is no need for a real pupil anyway.)</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The implied-pupil option also works for objects of type </span><span class="f_mine" style="font-weight: bold;">OBD</span><span class="f_mine"> (which is used for very wide-angle systems). &nbsp;In this case, the rays are not defined relative to a vertex plane on surface 1 (as is usually the case), since that would go to infinity at exactly 90 degrees. &nbsp;Instead, the entered height gives the full-field real chief ray on surface 1.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">When your lens is optimized this way, it is simple to examine the lens drawing to see where the chief rays cross the axis – and then put the stop there. &nbsp;It goes without saying that once you know where the stop should go, you should put a real surface there and declare it the stop. &nbsp;That is a more conventional way to set things up, especially if you want users of other optics codes to be able to understand the results. &nbsp;(Since those codes cannot define an implied stop, they would be bewildered otherwise.)</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um312.htm" class="topiclink">Next</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span><span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um3111.htm" class="topiclink">previous</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span><span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">


</script>
</body>
</html>
