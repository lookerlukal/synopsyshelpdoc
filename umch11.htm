<!DOCTYPE HTML>
<html>
<head>
   <title>inverse-sensitivity calculation</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="tolerances--&gt;" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />   
   
   <meta http-equiv="X-UA-Compatible" content="IE=8" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet">

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
             padding:0; 
             overflow: hidden; 
             background: #FFFFFF; 
       } 
html {
  overflow-x: auto; overflow-y: scroll;
}
      div#printheader { display: none; }
      #idheader { width:100%; 
                  height:auto; 
                  padding: 0; 
                  margin: 0; 
       } 
      #idcontent { position:relative }                                               
      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}      
      #switchtoggles { text-align: right; padding: 0 5px 0 0; font-size: 90%; } 
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
      .sync-toc { color: #ffffff; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #ffffff; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #ffffff; }
      .sync-toc a:hover { text-decoration: underline; }

   </style>
   <noscript>
   <style type="text/css">
   html, body { overflow: auto; }
   </style> 
   </noscript>
   <style type="text/css" media="print">
      span.f_Heading1 { color: black; }
      #idheader, #printheader img { display:none; }
      #printheader { display: block; margin-top: 20px; }
      #idcontent { margin-top: 10px; position:relative }
   </style>   

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>
   <script type="text/javascript" src="nsh.js"></script>
<!--[if lt IE 7]>
<style type="text/css">
  #idcontent {padding: 0px;} 
  #innerdiv {padding: 10px 5px 5px 10px ;} 
</style> 
<![endif]-->



</head>
<body>


<div id="idcontent"><div id="innerdiv">
<!--ZOOMRESTART-->
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p><a name="tol"></a><span class="f_mine" style="font-size: 14pt; font-family: 'Times New Roman'; font-style: italic; font-weight: bold;">SYNOPSYS User’s Manual &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um111.htm" class="topiclink">Next</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>
<p class="p_mine"><span class="f_mine" style="font-size: 14pt; font-family: 'Times New Roman'; font-style: italic; font-weight: bold;">Chapter 11</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="border-color: #000000; border-style: solid; border-width: 0px; border-top: none; border-right: none; border-left: none; margin: 0px 0px 1px 0px;"><span class="f_mine" style="font-size: 14pt;">11.0 TOLERANCING PROGRAM (TOL)</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">SYNOPSYS has two tolerancing programs. &nbsp;The program </span><span class="f_mine" style="font-weight: bold;">TOL</span><span class="f_mine">, described here, generates a table of inverse tolerance sensitivities; </span><span class="f_mine" style="font-weight: bold;">BTOL</span><span class="f_mine">, described in </span><span class="f_mine" style="text-decoration: underline;"><a href="umch12.htm" class="topiclink">Chapter 12</a></span><span class="f_mine">, can prepare a tolerance budget for the entire lens, and is a much more powerful feature for most users.  </span><span class="f_mine" style="font-weight: bold;">TOL</span><span class="f_mine"> adjusts each of a specified set of variables individually to the extent required to cause one of a specified set of aberrations to equal the desired tolerance. &nbsp;A thickness or airspace may be adjusted during the tolerancing run, and paraxial pickups and solves may also be used to maintain focus, etc. &nbsp;This feature is intended for when you need only the inverse sensitivity of selected variables, or when the lens has properties that are not well treated by BTOL – such as elements that are deliberately tilted or decentered etc.</span></p>
<p style="text-align: justify;">&nbsp;</p>
<p class="p_mine"><span class="f_mine">The input is:</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">PANT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">…</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">END</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">AANT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">…</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">END</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">TOL </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">TOL</span><span class="f_mine" style="font-weight: bold;"> [ ADJUST </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">SN</span><span class="f_mine" style="font-weight: bold;"> TH </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">TARGET</span><span class="f_mine" style="font-weight: bold;"> </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">ABN</span><span class="f_mine" style="font-weight: bold;"> [ </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">DELQ</span><span class="f_mine" style="font-weight: bold;"> ] ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">[ TOL SUMMARY ]</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">where </span><span class="f_mine">TOL is the maximum permissible value of any aberration (measured from its target value), and SN is the surface whose thickness is to be adjusted in such a way that aberration number ABN is maintained at a value of TARGET. &nbsp;Many designs use a paraxial focus solve to keep the image in focus while the design is perturbed, and in such cases the optional ADJUST input is not needed. &nbsp;But in some cases, such as an </span><span class="f_mine" style="text-decoration: underline;"><a href="um32.htm#afocal" class="topiclink">AFOCAL</a></span><span class="f_mine"> lens in which an intermediate airspace is adjusted to maintain focus, a paraxial solve will not work for variables that follow the image surface. &nbsp;In such cases you would specify DELF as the first aberration, and input the values of 0 for </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">TARGET</span><span class="f_mine"> and 1 for </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">ABN</span><span class="f_mine"> (the first aberration). &nbsp;This would have the effect of altering the specified airspace so that DELF was always zero, as the variables were perturbed. &nbsp;A ray intercept may also be selected for control in this manner, for defocused systems. &nbsp;DELQ is the derivative increment for the adjusting thickness.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">TOL SUMMARY</span><span class="f_mine"> repeats the previous summary.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">To adjust the object distance, enter </span><span class="f_mine" style="font-weight: bold;">ADJUST TH0 …</span><span class="f_mine">.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">You must input a </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;"><a href="um102.htm#pant" class="topiclink">PANT</a></span><span class="f_mine"> file and an </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;"><a href="um103.htm#aant" class="topiclink">AANT</a></span><span class="f_mine"> file to define the variables and aberrations to be toleranced. &nbsp;The aberrations should be chosen so that if any one of them just reaches the given tolerance, the design is degraded by the maximum amount that is acceptable.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Note that TOL operates on only a single</span><span class="f_mine" style="text-decoration: underline;"><a href="um1072.htm#acon" class="topiclink"> ACON</a></span><span class="f_mine"> at a time.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The sensitivity table printed by the program gives the effects of perturbing the variables singly, always keeping the others at their nominal value. &nbsp;From these figures a budget for the whole lens can be prepared. &nbsp;The most common procedure for this step is to reduce the listed tolerances by the square root of the number of variables that can be expected to contribute to the net degradation of the system. &nbsp;This process is a result of the laws of statistics of large numbers; the expected effect of N random perturbations is equal to the square root of N times the effect of each perturbation taken singly.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Those elements that one could expect to manufacture to an accuracy much greater than this result may be assigned tighter tolerances, and then need not be considered in preparing the budget. &nbsp;The dimensions that are judged most difficult to hold may be given a larger share of the budget, while the simpler elements are held tighter.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The budget prepared under the square-root rule given above is actually somewhat conservative; that rule assumes that each parameter will always be found at one end or the other of its tolerance range. &nbsp;In practice, lens parameters are more often randomly distributed within their ranges, and to reflect this distribution in the budget each tolerance should be multiplied by an additional factor of the square root of 3, except for element decenters, for which the root of 2 is more appropriate.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Whenever possible, it is advantageous to manufacture the more sensitive elements, measure the parameters accurately, and then recompute the remaining variables. &nbsp;This process, called fabrication adjusting, removes the measured values from the statistics of the problem, and the remaining tolerances may then be looser. &nbsp;The use of testplate lists is recommended for the same reason.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The aberration set that is input for tolerancing should reflect the important requirements of the image. &nbsp;For example, for a lens near the diffraction limit, you might select a wavefront error of one-half wave as the maximum degradation. &nbsp;In such a case, you would specify several OPDs in the AANT file, and a tolerance of 0.5. &nbsp;If a maximum blur size is important, the aberrations would be specified as transverse ray intercept errors.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">As each variable is toleranced, the program searches iteratively for the inverse sensitivity, printing a summary of the trial perturbation and the resulting merit function at each iteration. &nbsp;When the TOL limit is reached, the sensitivity of that variable is given, along with the values of all of the aberrations of the altered design. &nbsp;The aberration that was within 5% of the tolerance is identified by an asterisk. &nbsp;A summary of all of the tolerances is printed at the end.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">For radius of curvature variables, the sag difference corresponding to the computed radius change at the aperture given on the CAP list is also printed, in units of fringes at a wavelength of .5876 </span><span class="f_mine" style="font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial';">&mu;</span><span class="f_mine">M. &nbsp;Angle tolerances are output in degrees.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">If the system is extremely non-linear, or the derivatives with respect to a particular variable are very small (i.e., the tolerance is extremely wide), the search may not converge, and the message &quot;NO CONVERGENCE&quot; is printed. &nbsp;This usually means that the variable is not critical, and standard tolerances may be assigned. &nbsp;The list of trial perturbations and resulting merit function may be consulted to verify this conclusion.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Note that multiconfiguration lenses are toleranced as individual lenses with </span><span class="f_mine" style="font-weight: bold;">TOL</span><span class="f_mine">.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">If the aberrations of the initial system exceed the desired tolerance limit, the run will terminate with the message &quot;</span><span class="f_mine" style="font-family: 'Courier New';">INITIAL SYSTEM OUT OF SPEC</span><span class="f_mine">&quot;.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">TOL</span><span class="f_mine"> can interpret all of the allowed mnemonics for aberrations, and the following mnemonics for variables:</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px -7px;"><table cellspacing="0" cellpadding="4" border="0" style="border:none; border-spacing:0px; border-collapse:collapse;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:51px; padding:4px; border:solid 1px #000000;"><p class="p_t1-4"><span class="f_t1-4">&nbsp;</span></p>
</td>
<td style="vertical-align:top; width:102px; padding:4px; border:solid 1px #000000;"><p class="p_t1-4"><span class="f_t1-4" style="font-size: 11pt; font-weight: bold;">RD</span></p>
</td>
<td style="vertical-align:top; width:124px; padding:4px; border:solid 1px #000000;"><p class="p_t1-4"><span class="f_t1-4" style="font-size: 11pt; font-weight: bold;">BT</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:51px; padding:4px; border:solid 1px #000000;"><p class="p_t1-4"><span class="f_t1-4">&nbsp;</span></p>
</td>
<td style="vertical-align:top; width:102px; padding:4px; border:solid 1px #000000;"><p class="p_t1-4"><span class="f_t1-4" style="font-size: 11pt; font-weight: bold;">RAD</span></p>
</td>
<td style="vertical-align:top; width:124px; padding:4px; border:solid 1px #000000;"><p class="p_t1-4"><span class="f_t1-4" style="font-size: 11pt; font-weight: bold;">GT</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:51px; padding:4px; border:solid 1px #000000;"><p class="p_t1-4"><span class="f_t1-4">&nbsp;</span></p>
</td>
<td style="vertical-align:top; width:102px; padding:4px; border:solid 1px #000000;"><p class="p_t1-4"><span class="f_t1-4" style="font-size: 11pt; font-weight: bold;">TH</span></p>
</td>
<td style="vertical-align:top; width:124px; padding:4px; border:solid 1px #000000;"><p class="p_t1-4"><span class="f_t1-4" style="font-size: 11pt; font-weight: bold;">XDC</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:51px; padding:4px; border:solid 1px #000000;"><p class="p_t1-4"><span class="f_t1-4">&nbsp;</span></p>
</td>
<td style="vertical-align:top; width:102px; padding:4px; border:solid 1px #000000;"><p class="p_t1-4"><span class="f_t1-4" style="font-size: 11pt; font-weight: bold;">INDEX</span></p>
</td>
<td style="vertical-align:top; width:124px; padding:4px; border:solid 1px #000000;"><p class="p_t1-4"><span class="f_t1-4" style="font-size: 11pt; font-weight: bold;">YDC</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:51px; padding:4px; border:solid 1px #000000;"><p class="p_t1-4"><span class="f_t1-4">&nbsp;</span></p>
</td>
<td style="vertical-align:top; width:102px; padding:4px; border:solid 1px #000000;"><p class="p_t1-4"><span class="f_t1-4" style="font-size: 11pt; font-weight: bold;">AT</span></p>
</td>
<td style="vertical-align:top; width:124px; padding:4px; border:solid 1px #000000;"><p class="p_t1-4"><span class="f_t1-4" style="font-size: 11pt; font-weight: bold;">ZDC</span></p>
</td>
</tr>
</table>
</div>
<p>&nbsp;</p>
<p class="p_mine"><span class="f_mine">When tolerancing tilts and decenters, the remarks in </span><span class="f_mine" style="text-decoration: underline;"><a href="um102.htm" class="topiclink">section 10.2</a></span><span class="f_mine"> concerning </span><span class="f_mine" style="font-weight: bold;">PANT</span><span class="f_mine"> files apply. &nbsp;However, relative tilts </span><span class="f_mine" style="font-style: italic;">in all three directions</span><span class="f_mine"> may be toleranced simultaneously, since the variables are used individually. &nbsp;At the conclusion of the tolerance run, all tilt and decenter designations are restored to the status they had before the tolerance input was read. &nbsp;If a group of surfaces is already tilted or decentered in the nominal lens, then a tilt or decenter tolerance on the first surface of the group will tolerance the same size group as the one currently there.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">when tolerancing conic sections, the </span><span class="f_mine" style="font-weight: bold;">PANT</span><span class="f_mine"> input VY ASPH will cause two variables to be toleranced, called &quot;ASPH&quot; and &quot;RD&quot; in the tolerance output. &nbsp;The computed tolerance on ASPH refers to the number of waves of error at the CAP aperture, keeping the axial radius constant. &nbsp;The output on RD can be used to give the allowed focii position tolerance. The following formulas are useful:</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine">Let the focii positions be f1and f2; S = f2 - f1.</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine">Let the semi-major axis be b (see the </span><span class="f_mine" style="text-decoration: underline;"><a href="um42.htm#prt" class="topiclink">PRT</a></span><span class="f_mine"> listing).</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine">Then the tolerance of S = ( 2*b / S ) * ( tolerance of RD )</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Note that the presence or absence of paraxial solves is a significant factor in tolerancing a lens. &nbsp;If a YMT solve is present on the back focus, for example, and a radius is altered to determine the sensitivity, the image plane will move to follow the paraxial focus, and any defocusing effects due to the radius change will not be seen. &nbsp;Note also that when tolerancing tilts and decenters, the chief ray point will usually be decentered by the tilt. &nbsp;Therefore an aberration such as YA at the on-axis image will see image shift as well as the blur change. &nbsp;A YC aberration, on the other hand, would only measure the blur change.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Considerable care should be used when tolerancing a lens to include sufficient aberrations in the AANT file to detect the ill effects of all of the parameter changes. &nbsp;Ordinarily, the tolerancing aberration file will contain items not needed in the optimizing file; if an element is decentered, for example, the on-axis image might become comatic, and this effect might easily be ignored since it is never necessary to correct for on-axis coma in a centered lens system.</span></p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um111.htm" class="topiclink">Next</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span><span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span></p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">


</script>
</body>
</html>
