<!DOCTYPE HTML>
<html>
<head>
   <title>um103.13</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="ACA, automatic critical-angle control,ATC critical-angle control,Critical angle, control with ACA" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />   
   
   <meta http-equiv="X-UA-Compatible" content="IE=8" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet">

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
             padding:0; 
             overflow: hidden; 
             background: #FFFFFF; 
       } 
html {
  overflow-x: auto; overflow-y: scroll;
}
      div#printheader { display: none; }
      #idheader { width:100%; 
                  height:auto; 
                  padding: 0; 
                  margin: 0; 
       } 
      #idcontent { position:relative }                                               
      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}      
      #switchtoggles { text-align: right; padding: 0 5px 0 0; font-size: 90%; } 
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
      .sync-toc { color: #ffffff; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #ffffff; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #ffffff; }
      .sync-toc a:hover { text-decoration: underline; }

   </style>
   <noscript>
   <style type="text/css">
   html, body { overflow: auto; }
   </style> 
   </noscript>
   <style type="text/css" media="print">
      span.f_Heading1 { color: black; }
      #idheader, #printheader img { display:none; }
      #printheader { display: block; margin-top: 20px; }
      #idcontent { margin-top: 10px; position:relative }
   </style>   

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>
   <script type="text/javascript" src="nsh.js"></script>
<!--[if lt IE 7]>
<style type="text/css">
  #idcontent {padding: 0px;} 
  #innerdiv {padding: 10px 5px 5px 10px ;} 
</style> 
<![endif]-->



</head>
<body>


<div id="idcontent"><div id="innerdiv">
<!--ZOOMRESTART-->
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p><a name="aca"></a><span class="f_mine" style="font-weight: bold;">10.3.13 Critical-Angle control (ACA, ACT) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um103_14.htm" class="topiclink">Next</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um103_12.htm" class="topiclink">Previous</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">One often gets lenses where rays enter or leave an element at almost grazing incidence. &nbsp;Such situations are to be avoided for two reasons.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">1. &nbsp;Such rays are close to failing. &nbsp;A small change to a lens parameter will often put it past the critical angle, and then it fails. &nbsp;The optimization program has ways to proceed in this case, but it is always better to avoid the situation in the first place. &nbsp;The run is generally much slower and the results are less satisfactory when this occurs</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">2. &nbsp;The rays in the merit function may seem to be well corrected, in spite of the steep angle – but that is an artifact of having too few rays under control. &nbsp;A ray at a slightly different pupil position may well exhibit very large aberrations. &nbsp;Those aberrations are difficult to control in such cases, and the lens shows poorer performance than you expected.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">We therefore have provided a way to monitor and control such ray angles. &nbsp;The AANT entry</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span style="width:48px">&nbsp;</span><span class="f_mine" style="font-weight: bold;">ACA [ </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">ANGLE</span><span class="f_mine" style="font-weight: bold;"> </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">WEIGHT</span><span class="f_mine" style="font-weight: bold;"> [ </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">WINDOW</span><span class="f_mine" style="font-weight: bold;"> ] ]</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">will cause the program to continuously monitor the angle from the surface normal of the full-field upper and lower rim rays at the first and last surface of every element where the curvatures of those surfaces are declared to be variables. &nbsp;Those angles are taken in AIR, compared to the target </span><span class="f_mine" style="text-decoration: underline;">ANGLE</span><span class="f_mine">, and if any are steeper than that angle, a penalty is added to the merit function that increases as the square of the difference between the two, up to an error of </span><span class="f_mine" style="text-decoration: underline;">WINDOW</span><span class="f_mine">, and increases linearly thereafter. &nbsp;The default </span><span class="f_mine" style="text-decoration: underline;">WINDOW</span><span class="f_mine"> is one degree.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">This is one of several kinds of </span><span class="f_mine" style="text-decoration: underline;"><a href="um103.htm#monitor" class="topiclink">monitors</a></span><span class="f_mine"> that operate continuously during optimization.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">We have experienced good results with a target angle of about 60 degrees. &nbsp;But of course this depends on the particular lens, and if rays in your lens are close to failing you are advised to experiment with the target angle until you achieve satisfactory results. &nbsp;The default is 80 degrees.</span></p>
<p>&nbsp;</p>
<p class="p_mine"><span class="f_mine">The value of the ACA aberration is calculated </span><span class="f_mine" style="font-style: italic;">after</span><span class="f_mine"> other aberrations in the merit function are computed, regardless of where the declaration occurs in the AANT file. &nbsp;For most lenses this makes no difference – but if the lens is a </span><span class="f_mine" style="text-decoration: underline;"><a href="um1071.htm#zfile" class="topiclink">ZFILE</a></span><span class="f_mine"> zoom lens, the calculation is therefore performed at the last zoom that was specified in the merit function. &nbsp;Thus, for example, if the last aberration was specified at zoom 7, then the ACA penalty will also be computed in zoom 7. &nbsp;If this behavior is not what you really want, you are advised to use the </span><span class="f_mine" style="text-decoration: underline;"><a href="um10312.htm#auni" class="topiclink">UNI</a></span><span class="f_mine"> or UNR aberrations instead of ACA.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">By default, this monitor traces a ray at the field HBAR where HBAR is actually the </span><span class="f_mine" style="font-style: italic;">diagonal</span><span class="f_mine"> distance from the axis to the corner of the field, which is reasonable when the field is centered but not circular. &nbsp;(If A skew field has not been defined, the value of HBAR is just 1.0.) &nbsp;But in rare instances, where the field of view is not symmetric in Y, one might prefer to monitor the ACA angle in the the negative HBAR direction, if ray angles are steeper along that ray than along the ray at HBAR 1.0. &nbsp;If so, just enter a negative </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">WEIGHT</span><span class="f_mine">, and that field will be traced instead.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><a name="act"></a><span class="f_mine">A related monitor examines the angle from normal for </span><span class="f_mine" style="font-style: italic;">all</span><span class="f_mine"> rays traced by any ray aberration. &nbsp;This is the form</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span style="width:48px">&nbsp;</span><span class="f_mine" style="font-weight: bold;">ATC [ </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">ANGLE</span><span class="f_mine" style="font-weight: bold;"> </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">WEIGHT</span><span class="f_mine" style="font-weight: bold;"> [ </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">WINDOW</span><span class="f_mine" style="font-weight: bold;"> ] ]</span></p>
<p>&nbsp;</p>
<p><span class="f_mine">This form thus works for all fields at all zoom positions and for all configurations. &nbsp;In zoom lenses, it can be difficult to predict which zoom will yield a ray failure error, and this monitor should help since it examines all of them.</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um103_14.htm" class="topiclink">Next</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span><span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span></p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">


</script>
</body>
</html>
