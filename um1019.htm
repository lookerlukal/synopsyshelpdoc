<!DOCTYPE HTML>
<html>
<head>
   <title>um1019</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="ADA,DOE: automatic assignment" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />   
   
   <meta http-equiv="X-UA-Compatible" content="IE=8" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet">

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
             padding:0; 
             overflow: hidden; 
             background: #FFFFFF; 
       } 

      div#printheader { display: none; }
      #idheader { width:100%; 
                  height:auto; 
                  padding: 0; 
                  margin: 0; 
       } 
      #idcontent { position:relative }                                               
      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}      
      #switchtoggles { text-align: right; padding: 0 5px 0 0; font-size: 90%; } 
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
      .sync-toc { color: #ffffff; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #ffffff; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #ffffff; }
      .sync-toc a:hover { text-decoration: underline; }

   </style>
   <noscript>
   <style type="text/css">
   html, body { overflow: auto; }
   </style> 
   </noscript>
   <style type="text/css" media="print">
      span.f_Heading1 { color: black; }
      #idheader, #printheader img { display:none; }
      #printheader { display: block; margin-top: 20px; }
      #idcontent { margin-top: 10px; position:relative }
   </style>   

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>
   <script type="text/javascript" src="nsh.js"></script>
<!--[if lt IE 7]>
<style type="text/css">
  #idcontent {padding: 0px;} 
  #innerdiv {padding: 10px 5px 5px 10px ;} 
</style> 
<![endif]-->



</head>
<body>


<div id="printheader"><h1 class="p_Heading1"><span class="f_Heading1">um1019</span></h1>
</div>
<div id="idheader">
<div id="idheaderbg">
<table style="width:100%;border:none;margin:0px;background:url(background-topic-header.jpg)" cellspacing="0" cellpadding="0"> 
  <tr valign="bottom">
    <td align="left" valign="bottom" class="topichead">
   
   <p class="crumbs" id="idnav"><b>Navigation:</b>&nbsp;
   &raquo;No topics above this level&laquo;
   </p>
   <h1 class="p_Heading1"><span class="f_Heading1">um1019</span></h1>

    </td>
    <td align="right" width="120" valign="middle" class="topichead" id="idnav">
    
     <img src="hm_btn_navigate_prev_d.png" border="0"
        ><a href="main_index.htm"
        onmouseover="document.images.main.src='hm_btn_navigate_top_orange.png'" 
        onmouseout="document.images.main.src='hm_btn_navigate_top.png'"><img name=main src="hm_btn_navigate_top.png" border=0 alt="Return to chapter overview"
        ></a><img src="hm_btn_navigate_next_d.png" border="0">
    </td>
  </tr>  
</table>
<!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
  
</div>
</div>  

<div id="idcontent"><div id="innerdiv">
<!--ZOOMRESTART-->
<p><span class="f_mine" style="font-size: 14pt;">Automatic DOE Assignment (ADA)  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um1018.htm" class="topiclink">Previous</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um1020.htm" class="topiclink">Next</a></span><span class="f_mine" style="font-family: 'Times New Roman';">  </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">As the technology for making diffractive optical elements (DOEs) improves, one asks whether it makes sense to use them in ordinary centered lens designs. &nbsp;It is well known that a singlet lens can be corrected for chromatic aberration if a DOE is used on one side of the lens. &nbsp;In principle it seems that one can improve the performance of a lens with the use of a DOE, or design a lens with fewer elements but performance equivalent to that of a more complicated design. &nbsp;If the DOE can be produced at low cost, the resulting lens may well be less expensive to manufacture.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">In anticipation of this continuing development, we provide the feature </span><span class="f_mine" style="font-weight: bold;">ADA</span><span class="f_mine">, which will examine a current lens and determine where a DOE would do the most good.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Input is the same as for normal lens optimization, except the sequence requires the ADA command at the top:</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">ADA </span><span class="f_mine" style="text-decoration: underline;">LLIB</span><span class="f_mine"> [ QUIET / 0 ] [ </span><span class="f_mine" style="text-decoration: underline;">JSSS</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">JSPS</span><span class="f_mine"> &nbsp;[ </span><span class="f_mine" style="text-decoration: underline;">TEMP</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">COOL</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">NPASS</span><span class="f_mine"> ] ] </span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ EXCEPT  </span><span class="f_mine" style="text-decoration: underline;">sn</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">sn</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">sn</span><span class="f_mine"> ... ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ V3 ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">PANT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">...</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">END</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">AANT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">...</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">END</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ SNAP </span><span class="f_mine" style="text-decoration: underline;">PASSES</span><span class="f_mine"> ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ DAMP </span><span class="f_mine" style="text-decoration: underline;">DAMPING</span><span class="f_mine"> ] &nbsp; &nbsp; &nbsp; &nbsp;! allowed but ignored by ADA</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">SYNO </span><span class="f_mine" style="text-decoration: underline;">PASSES</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">No other commands should interrupt this sequence.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The program will first execute a normal optimization run with the entered variables and merit function. &nbsp;Then it will change each surface in the range from </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">JSSS</span><span class="f_mine"> to </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">JSPS</span><span class="f_mine"> to a </span><span class="f_mine" style="text-decoration: underline;"><a href="um3327.htm#uss16" class="topiclink">USS 16</a></span><span class="f_mine"> surface, add five new variables, and reoptimize each case. &nbsp;(Surfaces in an </span><span class="f_mine" style="font-weight: bold;">EXCEPT</span><span class="f_mine"> list are skipped.) &nbsp;When it has examined all surfaces, the program reports the location where the change to a DOE reduced the merit function by the largest amount. &nbsp;The best lens is loaded automatically into the PAD window and a copy is saved in lens library location </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">LLIB</span><span class="f_mine">. &nbsp;The optional </span><span class="f_mine" style="font-weight: bold;">QUIET</span><span class="f_mine"> in word 3 is recommended unless you really want to see all of the optimization output scroll by on the screen. &nbsp;The program will submit each case to the annealing program, using the entered </span><span class="f_mine" style="text-decoration: underline;">TEMP</span><span class="f_mine">, </span><span class="f_mine" style="text-decoration: underline;">COOL</span><span class="f_mine">, and </span><span class="f_mine" style="text-decoration: underline;">NPASS</span><span class="f_mine">. &nbsp;If these data are omitted, the program will substitute 20 4 20 by default.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The new variables by default include the axial curvature (in term G 16 of the DOE) and four terms in the OPD expansion (powers of 2, 4, 6, and 8 of the zone radius). &nbsp;Dummy surfaces, those currently aspheric, surfaces not at a glass-air interface, surfaces assigned a curvature solve, and surfaces that pick up another curvature are not tested. &nbsp;The program assigns the current CAO value of the selected surface to the RNORM parameter of the DOE and assigns a pickup to the emulsion index in HIN of the DOE. &nbsp;Thus the base curve remains spherical, and you can vary the conic and surface expansion terms later if you can tolerate the added complexity of an aspheric base curve.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The optional input </span><span class="f_mine" style="font-weight: bold;">V3</span><span class="f_mine"> instead creates only three variables: the base CV and CC, plus the second-power term of the expansion. &nbsp;You can experiment with this if you wish and compare it to the default results.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Running this feature therefore requires nothing more than adding the ADA command with its arguments to the optimization MACro.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">When the design is finished, you may want to change the value of HIN to the index of the material used to create the zones, if it is not the same as the base index. &nbsp;That value is used to calculate the zone depth required to meet the Bragg condition, and has no effect on raytracing, but does affect the diffraction efficiency.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">To continue optimizing the lens, be sure to add the G-variables for the coefficients you wish to vary to your PANT file. &nbsp;Those are listed in the section describing <a href="um3327.htm#uss16" class="topiclink">USS type 16</a>.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">It would be wise to save a copy of the starting lens, in case the DOE solution is not what you are after.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um1020.htm" class="topiclink">Next</a></span><span class="f_mine" style="font-family: 'Times New Roman';">  </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>
<p class="p_mine"><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;</p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">

var lastSlashPos = document.URL.lastIndexOf("/") > document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("/") : document.URL.lastIndexOf("\\");
if( document.URL.substring(lastSlashPos + 1, lastSlashPos + 4).toLowerCase() != "~hh" )
{
 if (document.all) setTimeout(function() {nsrInit();},20); 
    else nsrInit();
 } 


</script>
</body>
</html>
