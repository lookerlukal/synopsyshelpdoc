<!DOCTYPE HTML>
<html>
<head>
   <title>um1214</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="BTOL: multiconfigurations" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />   
   
   <meta http-equiv="X-UA-Compatible" content="IE=8" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet">

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
             padding:0; 
             overflow: hidden; 
             background: #FFFFFF; 
       } 
html {
  overflow-x: auto; overflow-y: scroll;
}
      div#printheader { display: none; }
      #idheader { width:100%; 
                  height:auto; 
                  padding: 0; 
                  margin: 0; 
       } 
      #idcontent { position:relative }                                               
      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}      
      #switchtoggles { text-align: right; padding: 0 5px 0 0; font-size: 90%; } 
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
      .sync-toc { color: #ffffff; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #ffffff; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #ffffff; }
      .sync-toc a:hover { text-decoration: underline; }

   </style>
   <noscript>
   <style type="text/css">
   html, body { overflow: auto; }
   </style> 
   </noscript>
   <style type="text/css" media="print">
      span.f_Heading1 { color: black; }
      #idheader, #printheader img { display:none; }
      #printheader { display: block; margin-top: 20px; }
      #idcontent { margin-top: 10px; position:relative }
   </style>   

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>
   <script type="text/javascript" src="nsh.js"></script>
<!--[if lt IE 7]>
<style type="text/css">
  #idcontent {padding: 0px;} 
  #innerdiv {padding: 10px 5px 5px 10px ;} 
</style> 
<![endif]-->



</head>
<body>


<div id="idcontent"><div id="innerdiv">
<!--ZOOMRESTART-->
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">12.1.4 Multiconfiguration BTOL analysis &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um122.htm" class="topiclink">Next</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um12135.htm" class="topiclink">Previous</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">BTOL can calculate the tolerance budget for several configurations at the same time. &nbsp;All of the </span><span class="f_mine" style="text-decoration: underline;"><a href="um1072.htm#acon" class="topiclink">ACONs</a></span><span class="f_mine"> to be used must contain the desired lens before starting BTOL, and you must declare any pickups between the configurations with one or more ACON … PICKUP files, much as you would for multiconfiguration optimization. &nbsp;See </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;"><a href="um1072.htm" class="topiclink">Section 10.7.2</a></span><span class="f_mine"> for a description of that feature.  </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">For tolerancing, one must be careful to pick up asymmetries as well as curvatures, thicknesses, and indices, so that element tilts and wedges are faithfully reproduced in all configurations that employ the same element. &nbsp;For this purpose, the request</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span style="width:48px">&nbsp;</span><span class="f_mine" style="font-weight: bold;">BZOOM</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">is used instead of the usual </span><span class="f_mine" style="font-weight: bold;">ZOOM</span><span class="f_mine"> in the ACON PICKUPS file. &nbsp;This will pick up all parameters within a range of surface numbers, including tilts and decenters.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Care is required when setting up a multiconfiguration BTOL run. &nbsp;In most cases, the configurations will differ from each other in certain respects, and the parameters that differ must be excluded from the ACON PICKUP files. &nbsp;But it is important to remember that the program </span><span class="f_mine" style="font-style: italic;">will use the surface following each toleranced element</span><span class="f_mine"> to undo the tilt, decenter, and wedge of that element. &nbsp;If that surface is supposed to be different in another configuration, and is therefore excluded from the pickup list, then the element tolerance will not be properly modeled in that configuration. &nbsp;So you must </span><span class="f_mine" style="font-style: italic;">always provide a dummy surface</span><span class="f_mine"> following a lens element when the next surface is excluded from the pickup list, and that element is common to more than one configuration and is to be toleranced.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">When the ACON … PICKUP files have been prepared, you can include the other configurations in the BTOL input as follows:</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">BTOL </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">CRITERION</span><span class="f_mine" style="font-weight: bold;"> MULTI</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">ACON 1</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">(BTOL input for ACON 1)</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">ACON 2</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">(input for ACON 2)</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">ACON 3 …</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">…</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">GO</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">For each ACON declaration in the BTOL input, you must provide the complete BTOL requests for that ACON, as though it were the only configuration involved. &nbsp;Thus the feature is quite general, and you can tolerance one configuration with an MTF criterion and a certain adjustment, a different configuration with a spot variance criterion and a different adjustment, and so on.  </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The program identifies all of the design variables to be considered as it processes each configuration, and </span><span class="f_mine" style="font-style: italic;">deletes</span><span class="f_mine"> any variable that is subject to a pickup request. &nbsp;Furthermore, if you have used the BZOOM option for a given ACON, then the affected radii in that configuration will pick up their values elsewhere, and you should not input any other specification in that configuration that would affect those values, such as FIX, TPR, etc. &nbsp;Variables that have been deleted for this reason will show up on the BTOL listings with a zero tolerance to indicate that the program did not process them. &nbsp;The tolerances for ACON 1, on the other hand, will automatically include any effects that the variables in that configuration may have on any of the other configurations as a result of those variables being picked up by them.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">If you want a certain variable to remain independent of configuration 1, even though other variables are picked up with the BZOOM option, simply follow that request with an individual request that specifies surface 0. &nbsp;For example, if you want the tilt of surface 7 to be different in ACON 2 from that in ACON 1, you would enter</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">ACON 2 PICKUPS</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">BZOOM</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">7 PAS 0</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 48px;"><span class="f_mine" style="font-weight: bold;">END</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">There are a few exceptions to this generality. &nbsp;If any of the configurations are to be </span><span class="f_mine" style="text-decoration: underline;"><a href="um12121.htm" class="topiclink">reoptimized</a></span><span class="f_mine">, then none of them may request a BTOL adjustment, since the reoptimization presumably will adjust all of the configurations that need to be controlled. &nbsp;Also, only a single PREPARE MC request is needed for the entire set. &nbsp;The total number of adjustments is four, and if more than that are needed, then you have to use the reoptimize feature (where the number is just the maximum number of variables permitted in optimization, currently 151).</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Multiconfiguration tolerancing runs more slowly than otherwise, and to speed things up you should eliminate all unused configurations with the </span><span class="f_mine" style="font-weight: bold;">ACON </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">NB</span><span class="f_mine" style="font-weight: bold;"> NULL</span><span class="f_mine"> command. &nbsp;Also, bear in mind the fact that when the pickups are enforced, the program examines each configuration in turn and satisfies any pickups it finds in effect. &nbsp;But this means that if a lower number ACON were to pick up a value from a higher number, then the value that it gets might no longer be correct after the higher ACON is processed in its turn. &nbsp;In other words, the enforcement procedure does not loop to see if anything that was picked up was later changed as a result of another pickup or paraxial solve in a higher-numbered ACON.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">To illustrate the use of ACONs in tolerancing, here is a hypothetical input file:</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 36px;"><table cellspacing="0" cellpadding="4" border="0" style="border:none; border-spacing:0px; border-collapse:collapse;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">ACON 1</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">GET 1</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">ACON 2</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">GET 6</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">ACON 2 PICKUPS</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">BZOOM 1 7</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">Surfaces 1-7 are no longer independent</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">7 PAS 0</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">We want to adjust this later, so exclude it here</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">END</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">ACON 1</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">BTOL 2 MULTI</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">ACON 1</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">INCLUDE 1 THRU 9</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">TPR 6 7 8</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">DEGRADE MTF .2</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">ADJUST 22 TH 100 100</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">FOCUS REAL ALL</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">ACON 2</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">FOV 1</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">TPR 8 9</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">These radii are still independent</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">TOL SPOT .01</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">EXACT RAD 13</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">ditto</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">ADJUST 7 YDC 2 2</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">And this is still free for adjustment</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">PREPARE MC</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:184px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">GO</span></p>
</td>
<td style="vertical-align:top; width:335px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
</table>
</div>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Here you can see how general this feature is; nearly everything can differ from one ACON to another. &nbsp;Exceptions are the </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;"><a href="um125.htm" class="topiclink">PREPARE MC</a></span><span class="f_mine"> and the </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;"><a href="um12121.htm" class="topiclink">REOPT</a></span><span class="f_mine"> commands, which apply to everything at once and must be entered only once.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um122.htm" class="topiclink">Next</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span><span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span></p>
<p>&nbsp;</p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">


</script>
</body>
</html>
