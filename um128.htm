<!DOCTYPE HTML>
<html>
<head>
   <title>um128</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />   
   
   <meta http-equiv="X-UA-Compatible" content="IE=8" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet">

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
             padding:0; 
             overflow: hidden; 
             background: #FFFFFF; 
       } 

      div#printheader { display: none; }
      #idheader { width:100%; 
                  height:auto; 
                  padding: 0; 
                  margin: 0; 
       } 
      #idcontent { position:relative }                                               
      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}      
      #switchtoggles { text-align: right; padding: 0 5px 0 0; font-size: 90%; } 
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
      .sync-toc { color: #ffffff; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #ffffff; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #ffffff; }
      .sync-toc a:hover { text-decoration: underline; }

   </style>
   <noscript>
   <style type="text/css">
   html, body { overflow: auto; }
   </style> 
   </noscript>
   <style type="text/css" media="print">
      span.f_Heading1 { color: black; }
      #idheader, #printheader img { display:none; }
      #printheader { display: block; margin-top: 20px; }
      #idcontent { margin-top: 10px; position:relative }
   </style>   

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>
   <script type="text/javascript" src="nsh.js"></script>
<!--[if lt IE 7]>
<style type="text/css">
  #idcontent {padding: 0px;} 
  #innerdiv {padding: 10px 5px 5px 10px ;} 
</style> 
<![endif]-->



</head>
<body>


<div id="printheader"><h1 class="p_Heading1"><span class="f_Heading1">um128</span></h1>
</div>
<div id="idheader">
<div id="idheaderbg">
<table style="width:100%;border:none;margin:0px;background:url(background-topic-header.jpg)" cellspacing="0" cellpadding="0"> 
  <tr valign="bottom">
    <td align="left" valign="bottom" class="topichead">
   
   <p class="crumbs" id="idnav"><b>Navigation:</b>&nbsp;
   &raquo;No topics above this level&laquo;
   </p>
   <h1 class="p_Heading1"><span class="f_Heading1">um128</span></h1>

    </td>
    <td align="right" width="120" valign="middle" class="topichead" id="idnav">
    
     <img src="hm_btn_navigate_prev_d.png" border="0"
        ><a href="main_index.htm"
        onmouseover="document.images.main.src='hm_btn_navigate_top_orange.png'" 
        onmouseout="document.images.main.src='hm_btn_navigate_top.png'"><img name=main src="hm_btn_navigate_top.png" border=0 alt="Return to chapter overview"
        ></a><img src="hm_btn_navigate_next_d.png" border="0">
    </td>
  </tr>  
</table>
<!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
  
</div>
</div>  

<div id="idcontent"><div id="innerdiv">
<!--ZOOMRESTART-->
<p><span style="font-size: 14pt;">12.8 &nbsp;Editing a BTOL budget &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um127.htm" class="topiclink">Previous</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>
<p>&nbsp;</p>
<p>There are two ways to modify the budget returned by BTOL.  <a href="um121.htm#bmodify" class="topiclink">BTOL MODIFY</a>, described in Section 12.1, can alter one or a family of tolerances quickly and easily. &nbsp;BTOL EDIT, described below, provides a way to alter individual tolerances anywhere in the budget.</p>
<p>&nbsp;</p>
<p>To use this feature, you must first run BTOL. &nbsp;If the budget is still current, use the command below without a filename.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">BTOL EDIT [ </span><span style="font-weight: bold; text-decoration: underline;">filename</span><span style="font-weight: bold;"> ]</span></p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p>To edit a budget that was previously saved, enter the filename in word three.</p>
<p>&nbsp;</p>
<p>(The command BTOL SAVE saves the budget with a name taken from the current log number.)</p>
<p>&nbsp;</p>
<p>This will load the current budget into the EE editor as a MACro named BTOL_EDIT.MAC. &nbsp;The entries in this file have to remain in the strict order given, but you can change any of the individual tolerance numbers. &nbsp;Here is an example of a portion of this file:</p>
<p>&nbsp;</p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">SYDEFEAT&nbsp;</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">BTOL BUDGET</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">!</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">--WARNING-- DO NOT CHANGE THE STRUCTURE OF THIS FILE.</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">!</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">THE ORIGINAL LENS MUST BE CURRENT.</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">!</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">TO SEE PREDICTIONS, RUN BTOL FIRST.</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;1 FR &nbsp; &nbsp; &nbsp;0.00000 TH &nbsp; &nbsp; &nbsp;0.00000 IN &nbsp; &nbsp; &nbsp;0.00000 VN &nbsp; &nbsp; &nbsp;0.00000 WD &nbsp; &nbsp; &nbsp;0.00000</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;1 IR &nbsp; &nbsp; &nbsp;0.00000 DY &nbsp; &nbsp; &nbsp;0.00000 TL &nbsp; &nbsp; &nbsp;0.00000 DX &nbsp; &nbsp; &nbsp;0.00000 PI &nbsp; &nbsp; &nbsp;0.00000</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;1 RE &nbsp; &nbsp; &nbsp;0.00000 R1 &nbsp; &nbsp; &nbsp;0.00000 R2 &nbsp; &nbsp; &nbsp;0.00000 PX &nbsp; &nbsp; &nbsp;0.00000 CC &nbsp; &nbsp; &nbsp;0.00000</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;2 FR &nbsp; &nbsp; &nbsp;0.31972 TH &nbsp; &nbsp; &nbsp;0.00164 IN &nbsp;1.09203E-04 VN &nbsp; &nbsp; &nbsp;0.49818 WD &nbsp; &nbsp; &nbsp;0.00000</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;2 IR &nbsp; &nbsp; &nbsp;0.18748 DY &nbsp; &nbsp; &nbsp;0.02034 TL &nbsp; &nbsp; &nbsp;8.32905 DX &nbsp; &nbsp; &nbsp;0.00000 PI &nbsp; &nbsp; &nbsp;0.00000</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;2 RE &nbsp; &nbsp; &nbsp;0.05542 R1 &nbsp; &nbsp; &nbsp;0.00000 R2 &nbsp; &nbsp; &nbsp;0.00000 PX &nbsp; &nbsp; &nbsp;0.00000 CC &nbsp; &nbsp; &nbsp;0.00000</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;3 FR &nbsp; &nbsp; &nbsp;0.32646 TH &nbsp; &nbsp; &nbsp;0.08060 IN &nbsp; &nbsp; &nbsp;0.00000 VN &nbsp; &nbsp; &nbsp;0.00000 WD &nbsp; &nbsp; &nbsp;2.10172</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;3 IR &nbsp; &nbsp; &nbsp;0.19139 DY &nbsp; &nbsp; &nbsp;0.00000 TL &nbsp; &nbsp; &nbsp;0.00000 DX &nbsp; &nbsp; &nbsp;0.00000 PI &nbsp; &nbsp; &nbsp;0.00000</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;3 RE &nbsp; &nbsp; &nbsp;0.06136 R1 &nbsp; &nbsp; &nbsp;0.00000 R2 &nbsp; &nbsp; &nbsp;0.00000 PX &nbsp; &nbsp; &nbsp;0.00000 CC &nbsp; &nbsp; &nbsp;0.00000</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;4 FR &nbsp; &nbsp; &nbsp;0.42549 TH &nbsp; &nbsp; &nbsp;0.02665 IN &nbsp;5.08990E-05 VN &nbsp; &nbsp; &nbsp;0.33131 WD &nbsp; &nbsp; &nbsp;0.00000</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;4 IR &nbsp; &nbsp; &nbsp;0.21039 DY &nbsp; &nbsp; &nbsp;0.02518 TL &nbsp; &nbsp; &nbsp;3.37721 DX &nbsp; &nbsp; &nbsp;0.00000 PI &nbsp; &nbsp; &nbsp;0.00000</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;4 RE &nbsp; &nbsp; &nbsp;0.07977 R1 &nbsp; &nbsp; &nbsp;0.00000 R2 &nbsp; &nbsp; &nbsp;0.00000 PX &nbsp; &nbsp; &nbsp;0.00000 CC &nbsp; &nbsp; &nbsp;0.00000</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;5 FR &nbsp; &nbsp; &nbsp;0.43307 TH &nbsp; &nbsp; &nbsp;0.00507 IN &nbsp; &nbsp; &nbsp;0.00000 VN &nbsp; &nbsp; &nbsp;0.00000 WD &nbsp; &nbsp; &nbsp;3.54351</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;5 IR &nbsp; &nbsp; &nbsp;0.21555 DY &nbsp; &nbsp; &nbsp;0.00000 TL &nbsp; &nbsp; &nbsp;0.00000 DX &nbsp; &nbsp; &nbsp;0.00000 PI &nbsp; &nbsp; &nbsp;0.00000</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp;5 RE &nbsp; &nbsp; &nbsp;0.09098 R1 &nbsp; &nbsp; &nbsp;0.00000 R2 &nbsp; &nbsp; &nbsp;0.00000 PX &nbsp; &nbsp; &nbsp;0.00000 CC &nbsp; &nbsp; &nbsp;0.00000</span></p>
<p>&nbsp;</p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">...</span></p>
<p>&nbsp;</p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">END</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">SYACTIVATE</span></p>
<p>&nbsp;</p>
<p><span style="background-color: #ffffff;">The file starts with the commands SYDEFEAT and BTOL BUDGET, and then shows up to 17 tolerances assigned to each surface of each configuration involved in the budget.&nbsp;</span></p>
<p>&nbsp;</p>
<p><span style="background-color: #ffffff;">The SYDEFEAT entry disables AI symbol substitution until the end of the file, where it is enabled by SYACTIVATE. &nbsp;This is just a precaution: if you frequently define your own symbols, as we do, you don't want to be surprised when your symbol for, say &quot;PI&quot;, shows up instead of those characters.</span></p>
<p>&nbsp;</p>
<p><span style="background-color: #ffffff;">&nbsp;In the data list,</span></p>
<p>&nbsp;</p>
<p><span style="background-color: #ffffff;">FR is the radius tolerance in fringes</span></p>
<p><span style="background-color: #ffffff;">TH is the thickness tolerance</span></p>
<p><span style="background-color: #ffffff;">IN is the index tolerance</span></p>
<p><span style="background-color: #ffffff;">VN is the Abbe number tolerance</span></p>
<p><span style="background-color: #ffffff;">WD is the wedge tolerance</span></p>
<p><span style="background-color: #ffffff;">IR is the irregularity tolerance</span></p>
<p><span style="background-color: #ffffff;">DY is the decenter tolerance in Y</span></p>
<p><span style="background-color: #ffffff;">TL is the tilt tolerance</span></p>
<p><span style="background-color: #ffffff;">DX is the decenter tolerance in X (which by default is bypassed)</span></p>
<p><span style="background-color: #ffffff;">PI is the prism piston-error tolerance</span></p>
<p><span style="background-color: #ffffff;">RE is the rolled-edge tolerance</span></p>
<p><span style="background-color: #ffffff;">R1 is the roll tolerance on side 1</span></p>
<p><span style="background-color: #ffffff;">R2 is the roll tolerance on side 2</span></p>
<p><span style="background-color: #ffffff;">PX is the tolerance on the tilt angle on the side of a prism</span></p>
<p><span style="background-color: #ffffff;">CC is the conic constant tolerance.</span></p>
<p>&nbsp;</p>
<p><span style="background-color: #ffffff;">Other tolerances that will show up if nonzero include</span></p>
<p>&nbsp;</p>
<p><span style="background-color: #ffffff;">G1 and G2, for some kinds of aspherics</span></p>
<p><span style="background-color: #ffffff;">ZY for the decenter tolerance of a zoom group.</span></p>
<p>&nbsp;</p>
<p><span style="background-color: #ffffff;">All of the above are normalized so the values are the same as on the budget output from BTOL, with the exception of G1 and G2. &nbsp;Those variables have a variety of meanings, depending on what kind of surface they apply to, and for simplicity the program just shows the standard deviation. &nbsp;(The other parameters are normalized with a statistical constant that relates the tolerance on the drawing to the standard deviation that would result, assuming the dimension is at a random location within the tolerance area, which can be a line, square, or circle.)</span></p>
<p>&nbsp;</p>
<p><span style="background-color: #ffffff;">When you have edited the tolerances the way you wish, click the Run button. &nbsp;That will send the file to BTOL, and the new budget will replace the former one. &nbsp;The new data are then in memory but are not automatically saved on disk. &nbsp;If you wish to save the edited budget, use a new BTOL SAVE command. &nbsp;You do not have to save it to run BTOL list and MC.</span></p>
<p>&nbsp;</p>
<p><span style="background-color: #ffffff;">This feature requires that the original lens used in the BTOL analysis be current, since some properties of the budget are scaled according to the current clear apertures. &nbsp;The saved budget does not include all of the derivatives used in calculating the budget, however, and if you want to see the predicted image quality according to your modified budget you have to run BTOL first, and&nbsp;</span><span style="font-style: italic; background-color: #ffffff;">then</span><span style="background-color: #ffffff;">&nbsp;modify the budget. &nbsp;All the derivatives will then be current and the command BTOL LIST will show the new budget and image statistics. &nbsp;The Monte-Carlo routine&nbsp;</span><span style="font-weight: bold; background-color: #ffffff; text-decoration: underline;"><a href="um125.htm#mc" class="topiclink">MC</a></span><span style="background-color: #ffffff;">&nbsp;can analyze and show the statistics of the image when that budget is applied (and does not need the derivatives).</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="f_mine"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">

var lastSlashPos = document.URL.lastIndexOf("/") > document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("/") : document.URL.lastIndexOf("\\");
if( document.URL.substring(lastSlashPos + 1, lastSlashPos + 4).toLowerCase() != "~hh" )
{
 if (document.all) setTimeout(function() {nsrInit();},20); 
    else nsrInit();
 } 


</script>
</body>
</html>
