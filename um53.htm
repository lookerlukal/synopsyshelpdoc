<!DOCTYPE HTML>
<html>
<head>
   <title>um53</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="FLUX uniformity, table of" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />   
   
   <meta http-equiv="X-UA-Compatible" content="IE=8" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet">

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
             padding:0; 
             overflow: hidden; 
             background: #FFFFFF; 
       } 
html {
  overflow-x: auto; overflow-y: scroll;
}
      div#printheader { display: none; }
      #idheader { width:100%; 
                  height:auto; 
                  padding: 0; 
                  margin: 0; 
       } 
      #idcontent { position:relative }                                               
      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}      
      #switchtoggles { text-align: right; padding: 0 5px 0 0; font-size: 90%; } 
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
      .sync-toc { color: #ffffff; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #ffffff; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #ffffff; }
      .sync-toc a:hover { text-decoration: underline; }

   </style>
   <noscript>
   <style type="text/css">
   html, body { overflow: auto; }
   </style> 
   </noscript>
   <style type="text/css" media="print">
      span.f_Heading1 { color: black; }
      #idheader, #printheader img { display:none; }
      #printheader { display: block; margin-top: 20px; }
      #idcontent { margin-top: 10px; position:relative }
   </style>   

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>
   <script type="text/javascript" src="nsh.js"></script>
<!--[if lt IE 7]>
<style type="text/css">
  #idcontent {padding: 0px;} 
  #innerdiv {padding: 10px 5px 5px 10px ;} 
</style> 
<![endif]-->



</head>
<body>


<div id="idcontent"><div id="innerdiv">
<!--ZOOMRESTART-->
<p style="border-color: #000000; border-style: solid; border-width: 0px; border-top: none; border-right: none; border-left: none; margin: 0px 0px 1px 0px;">&nbsp;</p>
<p><a name="flux"></a><span style="font-size: 14pt;">5.3 Flux Calculation &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="text-decoration: underline;"><a href="um54.htm" class="topiclink">Next</a></span> <span style="text-decoration: underline;"><a href="um52.htm" class="topiclink">Previous</a></span> <span style="text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The command</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="text-indent: 48px;"><span class="f_mine" style="font-weight: bold;">FLUX </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">NB</span><span class="f_mine" style="font-weight: bold;"> { </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">ICOL</span><span class="f_mine" style="font-weight: bold;"> / P ] </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">SN</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">traces a meridional fan of </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">NB</span><span class="f_mine"> rays in color number </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">ICOL</span><span class="f_mine"> from the axial object point (or in the primary color if “P” is entered), and finds the intersection of each ray with surface </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">SN</span><span class="f_mine">. &nbsp;Each ray is then traced differentially, and the local flux intensity on </span><span class="f_mine" style="text-decoration: underline;">SN</span><span class="f_mine"> is computed. &nbsp;The effect of cos**4 darkening in object space is included, as well as apodization, if any, and the Gaussian intensity falloff if the system is in OBG mode or the Gaussian version of OBA is in effect. &nbsp;Surface </span><span class="f_mine" style="text-decoration: underline;">SN</span><span class="f_mine"> must not be decentered, and the on-axis chief ray must coincide with the optical axis. &nbsp;This feature is intended for condenser optics problems and laser beam-shaping optics, and may give incorrect results if the flux is evaluated in the region of a caustic, i.e. near an image surface. &nbsp;An example of </span><span class="f_mine" style="font-weight: bold;">FLUX</span><span class="f_mine"> output is shown below.  </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">This feature may also be run interactively with the </span><span class="f_mine" style="font-weight: bold;">MUT</span><span class="f_mine"> dialog, and the flux falloff at a selected ray may be controlled in optimization with the </span><span class="f_mine" style="text-decoration: underline;"><a href="um10312.htm#aflux" class="topiclink">FLUX</a></span><span class="f_mine"> aberration. &nbsp;Some laser beam-shaping problems require the use of </span><span class="f_mine" style="text-decoration: underline;"><a href="um96.htm#dprop" class="topiclink">DPROP</a></span><span class="f_mine">, rather than FLUX; especially when diffraction plays a role in the propagation. &nbsp;The FLUX command involves only geometric raytracing; it traces rays from the axial object only and ignores polarization, coatings, vignetting, and absorption. &nbsp;It tells you how the geometrical distribution of rays changes with Y-height. &nbsp;Surface </span><span class="f_mine" style="text-decoration: underline;">SN</span><span class="f_mine"> is usually an intermediate point in the lens. &nbsp;There are several other features that can evaluate the energy distribution at the image surface, accessed most easily via the menu MTR, and which take into account some or all of the influences that are ignored by FLUX.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;">SYNOPSYS AI&gt;FLUX 10 2 10</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;">&nbsp;</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> ID 7-ELEMENT LENS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;124 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;11-DEC-12 &nbsp; 17:14:45</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;">&nbsp;</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> FLUX INTENSITY AT SURFACE &nbsp;10</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;">&nbsp;</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> &nbsp; &nbsp; &nbsp; &nbsp;HEIGHT &nbsp; FLUX INTENSITY</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> ______________________________</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> &nbsp;5.011166E-05 &nbsp; &nbsp; &nbsp; &nbsp; 1.000000</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> &nbsp; &nbsp; &nbsp;0.501219 &nbsp; &nbsp; &nbsp; &nbsp; 0.999587</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> &nbsp; &nbsp; &nbsp;1.002701 &nbsp; &nbsp; &nbsp; &nbsp; 0.998336</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> &nbsp; &nbsp; &nbsp;1.504819 &nbsp; &nbsp; &nbsp; &nbsp; 0.996219</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> &nbsp; &nbsp; &nbsp;2.007913 &nbsp; &nbsp; &nbsp; &nbsp; 0.993192</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> &nbsp; &nbsp; &nbsp;2.512353 &nbsp; &nbsp; &nbsp; &nbsp; 0.989186</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> &nbsp; &nbsp; &nbsp;3.018549 &nbsp; &nbsp; &nbsp; &nbsp; 0.984111</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> &nbsp; &nbsp; &nbsp;3.526967 &nbsp; &nbsp; &nbsp; &nbsp; 0.977845</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> &nbsp; &nbsp; &nbsp;4.038151 &nbsp; &nbsp; &nbsp; &nbsp; 0.970234</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> &nbsp; &nbsp; &nbsp;4.552742 &nbsp; &nbsp; &nbsp; &nbsp; 0.961077</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> &nbsp; &nbsp; &nbsp;5.071518 &nbsp; &nbsp; &nbsp; &nbsp; 0.950120</span></p>
<p><span style="font-size: 9pt; font-family: 'Courier New'; font-weight: bold;"> SYNOPSYS AI&gt;</span></p>
<p><span style="font-size: 11pt;">This command produces a table, shown above, and also makes a plot if the number of zones is not over 200.</span></p>
<p>&nbsp;</p>
<p><img src="um5f18.png" width="505" height="570" alt="um5f18" style="width:505px;height:570px;border:none"></p>
<p>&nbsp;</p>
<p><span style="font-size: 11pt;">You can also obtain a plotted flux analysis with a different procedure</span><span style="font-size: 11pt; font-family: 'Times New Roman';">,</span><span style="font-size: 11pt;"> using a MACro such as</span></p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-size: 11pt; font-family: 'Courier New'; font-weight: bold;">DD: DO MACRO FOR AIP = 0 TO 1</span></p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-size: 11pt; font-family: 'Courier New'; font-weight: bold;">COMPOSITE</span></p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-size: 11pt; font-family: 'Courier New'; font-weight: bold;">CD1 P FLUX 0 0 AIP 0 </span><span style="font-size: 11pt; font-family: 'Courier New'; font-weight: bold; text-decoration: underline;">surfacenumber</span></p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-size: 11pt; font-family: 'Courier New'; font-weight: bold;">= CD1</span></p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-size: 11pt; font-family: 'Courier New'; font-weight: bold;">Z1 = FILE 1</span></p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-size: 11pt; font-family: 'Courier New'; font-weight: bold;">= 1 + Z1</span></p>
<p style="margin: 0px 0px 0px 48px;"><span style="font-size: 11pt; font-family: 'Courier New'; font-weight: bold;">ORD = FILE 1</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 11pt;">The first line defines a command symbol, which you should execute after the MACro has run once. &nbsp;Just type “DD” to run the loop. &nbsp;(See </span><span style="font-size: 11pt; text-decoration: underline;"><a href="um15121.htm" class="topiclink">Chapter 15</a></span><span style="font-size: 11pt;"> if you are not familiar with AI MACro loops.)</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 11pt;">The MACro itself uses the</span><span style="font-size: 11pt; text-decoration: underline;"><a href="um10312.htm#aflux" class="topiclink"> flux aberration</a></span><span style="font-size: 11pt;"> to calculate the change in the flux at each zone at the entered </span><span style="font-size: 11pt; text-decoration: underline;">surfacenumber</span><span style="font-size: 11pt;"> (the zone will be identified by the value of AIP when the MACro is run). &nbsp;The calculation following the composite evaluation of this flux difference converts it into a flux value, which is then plotted. &nbsp;This form is more general than the native FLUX plot, since it permits you to specify a field point with the FLUX aberration.</span></p>
<p>&nbsp;</p>
<p style="margin: 0px 48px 0px 48px;"><span style="font-size: 11pt;">Here’s a nice trick: &nbsp;instead of the above definition of the user-defined command “DD”, try this variation:</span></p>
<p style="margin: 0px 48px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 48px 0px 48px;"><span style="font-size: 11pt;">DD: QUIET/DO MACRO FOR AIP = 0 TO 1/LOUD/AGAIN</span></p>
<p style="margin: 0px 48px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 48px 0px 48px;"><span style="font-size: 11pt;">Now, when you type DD, you get only the final results, and don’t have to watch all of the cases scroll by on the monitor.</span></p>
<p style="margin: 0px 96px 0px 96px;"><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um54.htm" class="topiclink">Next</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span><span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span></p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">


</script>
</body>
</html>
