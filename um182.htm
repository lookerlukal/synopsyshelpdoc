<!DOCTYPE HTML>
<html>
<head>
   <title>um182</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />   
   
   <meta http-equiv="X-UA-Compatible" content="IE=8" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet">

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
             padding:0; 
             overflow: hidden; 
             background: #FFFFFF; 
       } 
html {
  overflow-x: auto; overflow-y: scroll;
}
      div#printheader { display: none; }
      #idheader { width:100%; 
                  height:auto; 
                  padding: 0; 
                  margin: 0; 
       } 
      #idcontent { position:relative }                                               
      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}      
      #switchtoggles { text-align: right; padding: 0 5px 0 0; font-size: 90%; } 
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
      .sync-toc { color: #ffffff; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #ffffff; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #ffffff; }
      .sync-toc a:hover { text-decoration: underline; }

   </style>
   <noscript>
   <style type="text/css">
   html, body { overflow: auto; }
   </style> 
   </noscript>
   <style type="text/css" media="print">
      span.f_Heading1 { color: black; }
      #idheader, #printheader img { display:none; }
      #printheader { display: block; margin-top: 20px; }
      #idcontent { margin-top: 10px; position:relative }
   </style>   

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>
   <script type="text/javascript" src="nsh.js"></script>
<!--[if lt IE 7]>
<style type="text/css">
  #idcontent {padding: 0px;} 
  #innerdiv {padding: 10px 5px 5px 10px ;} 
</style> 
<![endif]-->



</head>
<body>


<div id="idcontent"><div id="innerdiv">
<!--ZOOMRESTART-->
<p><span style="font-size: 14pt;">18.2 Aperture Considerations in Nonsequential Tracing  &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um1816.htm" class="topiclink">Previous</a></span><span style="font-family: 'Times New Roman';"> </span><span style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um183.htm" class="topiclink">Next</a></span><span style="font-family: 'Times New Roman';"> </span><span style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">In order for a loose ray to be captured by a surface, it must intercept the surface within the active area, which is that area within the clear aperture that is not within an inside aperture. &nbsp;Note that this rule differs from the sequential rule in an important respect: if the </span><span class="f_mine" style="font-weight: bold;">CAPTURE</span><span class="f_mine"> surface does not have a user-entered CAO, RAO, EAO, or an aperture of type UAP 3, then the program-generated CAO is used to define the active area – which can result in a loose ray missing such a surface and going to another if the intercept point falls outside this aperture. &nbsp;In sequential raytracing, on the other hand, a program-generated CAO (a 'soft CAO&quot;) will </span><span class="f_mine" style="font-style: italic;">never</span><span class="f_mine"> result in vignetting. &nbsp;This distinction can lead to different ray paths for the same lens system, in the two modes.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">If the lens element has </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;"><a href="um78.htm#efile" class="topiclink">EFILE</a></span><span class="f_mine"> data defined, then point “A” in the edge description sets the boundary of the active area, even if it is outside the clear aperture.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Since the nonsequential raytrace in many cases needs the values of the clear apertures in order to decide whether a ray hits a surface, but needs to have the ray paths in order to calculate program-generated CAO'S, it has to start somewhere; therefore, the rays used for the CAP calculation are </span><span class="f_mine" style="font-style: italic;">always sequential.  </span><span class="f_mine">If the system is set up in such a way that sequential raytracing has little meaning, it is best to prevent the default generation of CAO's with the RLE entry</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="text-indent: 48px;"><span class="f_mine" style="font-weight: bold; text-decoration: underline;"><a href="um32.htm#ncap" class="topiclink">NCAP</a></span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">and to place reasonable clear apertures yourself on all surfaces.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">It is recommended that all surfaces have user-entered CAO's when using the nonsequential features in any event. &nbsp;If the </span><span class="f_mine" style="font-weight: bold;">CAP</span><span class="f_mine"> calculation is defeated with </span><span class="f_mine" style="text-decoration: underline;"><a href="um32.htm#ncap" class="topiclink">NCAP</a></span><span class="f_mine">, and some CAO's are not defined, a warning message will be printed.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The last complication to be addressed is the action of the vignetting flag, which is set and removed by the </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;"><a href="umch3.htm#rle" class="topiclink">RLE</a></span><span class="f_mine"> entries </span><span class="f_mine" style="text-decoration: underline;"><a href="um32.htm#vig" class="topiclink">VIG</a></span><span class="f_mine"> and </span><span class="f_mine" style="text-decoration: underline;"><a href="um32.htm#novig" class="topiclink">NOVIG</a></span><span class="f_mine">. &nbsp;Here again, the result is different for nonsequential tracing; in sequential mode, the NOVIG flag causes CAO's to be ignored everywhere, but in nonsequential mode they cannot be ignored by loose rays, since they may determine the future path of the ray.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The interaction between apertures, the VIG flag, and raytracing mode may best be understood by remembering that the nonsequential raytrace requires, and honors, all apertures when a ray is loose, and follows sequential rules when it is not. &nbsp;Sequential tracing, on the other hand, traces through the system without regard for apertures, but then </span><span class="f_mine" style="font-style: italic;">checks </span><span class="f_mine">the path for vignetting after the entire system is traversed (if VIG mode is on). &nbsp;This is also true for any portion of a nonsequential trace for which sequential rules are in effect.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um183.htm" class="topiclink">Next</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span><span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um1816.htm" class="topiclink">Previous</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span><span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">


</script>
</body>
</html>
