<!DOCTYPE HTML>
<html>
<head>
   <title>um1073</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="ZOOM lens: global search,ZSEARCH" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />   
   
   <meta http-equiv="X-UA-Compatible" content="IE=8" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet">

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
             padding:0; 
             overflow: hidden; 
             background: #FFFFFF; 
       } 

      div#printheader { display: none; }
      #idheader { width:100%; 
                  height:auto; 
                  padding: 0; 
                  margin: 0; 
       } 
      #idcontent { position:relative }                                               
      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}      
      #switchtoggles { text-align: right; padding: 0 5px 0 0; font-size: 90%; } 
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
      .sync-toc { color: #ffffff; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #ffffff; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #ffffff; }
      .sync-toc a:hover { text-decoration: underline; }

   </style>
   <noscript>
   <style type="text/css">
   html, body { overflow: auto; }
   </style> 
   </noscript>
   <style type="text/css" media="print">
      span.f_Heading1 { color: black; }
      #idheader, #printheader img { display:none; }
      #printheader { display: block; margin-top: 20px; }
      #idcontent { margin-top: 10px; position:relative }
   </style>   

   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>
   <script type="text/javascript" src="nsh.js"></script>
<!--[if lt IE 7]>
<style type="text/css">
  #idcontent {padding: 0px;} 
  #innerdiv {padding: 10px 5px 5px 10px ;} 
</style> 
<![endif]-->



</head>
<body>


<div id="printheader"><h1 class="p_Heading1"><span class="f_Heading1">um1073</span></h1>
</div>
<div id="idheader">
<div id="idheaderbg">
<table style="width:100%;border:none;margin:0px;background:url(background-topic-header.jpg)" cellspacing="0" cellpadding="0"> 
  <tr valign="bottom">
    <td align="left" valign="bottom" class="topichead">
   
   <p class="crumbs" id="idnav"><b>Navigation:</b>&nbsp;
   &raquo;No topics above this level&laquo;
   </p>
   <h1 class="p_Heading1"><span class="f_Heading1">um1073</span></h1>

    </td>
    <td align="right" width="120" valign="middle" class="topichead" id="idnav">
    
     <img src="hm_btn_navigate_prev_d.png" border="0"
        ><a href="main_index.htm"
        onmouseover="document.images.main.src='hm_btn_navigate_top_orange.png'" 
        onmouseout="document.images.main.src='hm_btn_navigate_top.png'"><img name=main src="hm_btn_navigate_top.png" border=0 alt="Return to chapter overview"
        ></a><img src="hm_btn_navigate_next_d.png" border="0">
    </td>
  </tr>  
</table>
<!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
  
</div>
</div>  

<div id="idcontent"><div id="innerdiv">
<!--ZOOMRESTART-->
<p><span class="f_mine" style="font-size: 14pt;">10.7.3 </span><a name="zsearch"></a><span style="font-size: 14pt;">Zoom Lens </span><span class="f_mine" style="font-size: 14pt;">Design Search (ZSEARCH) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um10721.htm" class="topiclink">Previous</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um108.htm" class="topiclink">Next</a></span><span class="f_mine" style="font-family: 'Times New Roman';"> </span><span class="f_mine" style="font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The feature described in <a href="um1014.htm" class="topiclink">Section 10.14</a> can search the global design space and find good candidate configurations for many fixed-focus lenses. &nbsp;This section describes a related feature that can find zoom lenses..</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">Zoom Lens Design Search (ZSEARCH)</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">We first point out that although ZSEARCH is a remarkably fast and effective global search program, one cannot expect that it will produce finished designs, ready to send to the shop, in one operation. &nbsp;It is intended only to create plausible starting points as a first step in a lengthy design process. &nbsp;Then it is up to you to modify the results as necessary in order to meet your requirements. &nbsp;One usually performs several steps before the design is complete, summarized as follows;</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">A. &nbsp;Enter the requirements as best you can into the ZSEARCH input file.  </span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">B. Run the program and examine the results.  </span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">C. If all of the designs depart from your goals significantly, perhaps because the design went in a direction you did not expect, modify the input and go back to step B.</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">D. If one or more designs look like a good starting point, evaluate them to see what shortcomings remain.</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">E. Modify the merit function created by ZSEARCH, changing weights, adding or modifying monitors and rays, and adding targets for mechanical goals if those are violated.</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">F. Optimize and anneal. &nbsp;When that process will go no further, use <a href="um1017.htm#aei" class="topiclink">AEI</a> to add an element where it will do the most good.</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">G. Try using <a href="um1016.htm#aed" class="topiclink">AED</a>, to see if an element can be removed.</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">I. Repeat steps F and G, perhaps several times, as the configuration continues to improve.</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">J. When the design becomes reasonable, it is time to add windows, fold mirrors, dummy surfaces for a cold stop or to monitor the image at a field stop, etc.</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">K. When all important goals are met, run the real-glass routine <a href="um547.htm#arglass" class="topiclink">ARGLASS</a> or the glass-search routine <a href="um531.htm#gsearch" class="topiclink">GSEARCH</a>. &nbsp;Those will substitute real glass types for the glass models used by DSEARCH. &nbsp;(For IR and UV designs, the glass model is not appropriate and you should specify the materials directly in the ZSEARCH input.)</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">L. Continue to optimize and anneal until the design will not improve any more.</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">M. If the design is still not good enough, go back to step D and select a different return from ZSEARCH. Then repeat the subsequent steps.</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">O. Study the design examples in the Online Tutorial section of the SYNOPSYS website. &nbsp;There you will see how a variety of problems are identified and corrected.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">And a final thought: &nbsp;The optimization algorithms in SYNOPSYS are the most powerful in the world, but nothing can change the chaotic nature of the lens design landscape. &nbsp;The default algorithm is PSD III, activated by switch 2. &nbsp;We have run many test cases with this switch both on and off, and when off, the program uses PSD II instead -- and often the results from the two settings are markedly different. &nbsp;We encourage you to try both switch settings when running ZSEARCH, and choose the best returns from both. &nbsp;The setting may be selected with the PSD input, described below.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The ZSEARCH program will search through lens space in order to find an attractive starting point. &nbsp;You specify the system requirements and the zoom construction you want. &nbsp;Then it performs the following steps:</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">1. &nbsp;It constructs a series of candidate lenses with initial dimensions assigned according to either a binary search scheme or randomly, depending on user input. &nbsp;These are defined as </span><span class="f_mine" style="text-decoration: underline;"><a href="um1071.htm#zfile" class="topiclink">ZFILE</a></span><span class="f_mine"> zoom lenses where the object coordinates vary between zooms according to user input and the zoom motions are all initially zero. &nbsp;The lenses consists of at least three groups and no more than 10, and each group contains a specified number of elements. &nbsp;Some of these groups are declared zooming groups. &nbsp;The object specifications are found by creating objects spaced between that of zoom 1 and the final zoom either linearly or by an inverse quadratic formula.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The default option assigns element powers according to the bit in a binary number that is incremented at each cycle. &nbsp;Thus, if you request, say, a four-element lens, the first lens would have all negative elements taken from the binary number (0000). &nbsp;The next try would have one positive element, from the number (0001) and so on.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">If the RANDOM option is selected, the radii, thicknesses, and airspaces are calculated as a random fraction of the input (or default) values of RSTART, THSTART, and ASTART. &nbsp;In either case, elements are given a GLM glass model (for visible spectrum systems) or are assigned one of two entered glass types (for IR systems).</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">2. &nbsp;The program constructs a PANT file that varies all radii, all thicknesses except the last, and (if the system is not monochromatic and is in the visible) the GLM variable on each element. &nbsp;It also varies the zoom positions of all zooming groups.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">3. &nbsp;It traces the upper and lower rim rays to check for ray failures, which are common. &nbsp;If any are found, it submits a quick optimization using the ERROR aberration and the previously defined variables. &nbsp;This usually converges immediately, and the rays will then trace. &nbsp;If not, after several tries that case is skipped.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">4. &nbsp;It constructs an AANT file with the monitor requests AEC, ACC, AZA, and ACA. &nbsp;These control edge and center thicknesses so the lenses are reasonable, and also monitor overlap between zooming elements and avoid refraction close to the critical angle. &nbsp;Then it adds a default set of rays at the entered field points. &nbsp;(The default points are at HBAR = 0., 0.75, and 1.0.) &nbsp;If the system is not monochromatic, it also corrects rays in the long and short colors (taken from the CORDER input). &nbsp;These will be colors 1 and 3 if the default wavelengths (CDF) are in effect. &nbsp;It then adds any input you have given in the SPECIAL section (see below) to the merit function.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">6. &nbsp;It runs the optimization program for the requested number of cycles.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">7. &nbsp;It then submits an </span><span class="f_mine" style="text-decoration: underline;"><a href="um1012.htm#anneal" class="topiclink">ANNEAL</a></span><span class="f_mine"> run, if requested, which makes small random changes to the lens and reoptimizes, over and over.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">8. When all of the above steps are done, it cycles with the next candidate lens.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">9. &nbsp;If multicore mode is in effect (see </span><span class="f_mine" style="text-decoration: underline;"><a href="um546.htm#core" class="topiclink">CORE</a></span><span class="f_mine">), the program assigns the trial cases sequentially to all of the authorized cores. &nbsp;This can greatly speed up the process, and you are encouraged to implement this mode if your PC has that capability. &nbsp;Since ZSEARCH involves a great deal more raytracing than does DSEARCH, the this step is especially important. &nbsp;The optimization file created by ZSEARCH cannot define any new AI symbols, but it will inherit and honor any symbols previously defined.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">As it performs these steps, the program saves the resulting designs in two ways. &nbsp;The best design seen so far is automatically saved in the requested library location, and the first ten designs are saved in files named ZSEARCH01.RLE, ZSEARCH02.RLE, up to 10. &nbsp;Thereafter, when each case is optimized, the merit function is compared to the worst of the ten, and if better it replaces that file.  </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">When all of the cycles have finished, the best lens that was found is therefore in the requested library location, and the ten best are in the named files (although not necessarily in numerical order). &nbsp;The program then makes a composite drawing showing all of the lenses in those files. &nbsp;It also creates and opens a MACro with the name ZSEARCH_OPT.MAC, which lets you easily continue work on any of the resulting lenses. &nbsp;In the event that any of them look interesting, be sure to </span><span class="f_mine" style="text-decoration: underline;"><a href="um372.htm#fetch" class="topiclink">FETCH</a></span><span class="f_mine"> and save them with a unique name, since the files will be overwritten the next time you run ZSEARCH.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">ZSEARCH also creates a MACro called </span><span class="f_mine" style="font-weight: bold;">ZSS.MAC</span><span class="f_mine">, and if you run it you will see each of the returned designs one by one. &nbsp;Pressing the Enter key cycles to the next one, letting you see the results on the PAD display where you can decide which one looks most promising.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The command </span><span class="f_mine" style="font-weight: bold;">ZSEARCH PLOT</span><span class="f_mine"> will show a plot of the most recent results, in numerical order. &nbsp;ZSEARCH automatically makes a plot, sorted by quality -- but this feature lets you come back the next day and make a new plot if you want to.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The optimization portion by default varies the glass model variable on each element, which is only appropriate for systems operating in the visible portion of the spectrum. &nbsp;If your system is outside this region, you must select the materials to use for positive and negative elements with the GLASS… input, described below. &nbsp;In that case, the glass model is not used or varied.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">ZSEARCH identifies each of the 10 best lenses as it saves them. &nbsp;A character string is put into the lens identification string ID1 listing the sequence of element powers that created the design (in binary search mode). &nbsp;Note that the </span><span class="f_mine" style="font-style: italic;">resulting</span><span class="f_mine"> powers are often different from the initial set.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Input for this feature is as follows:</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine"> ZSEARCH </span><span class="f_mine" style="text-decoration: underline;">LLIB</span><span class="f_mine"> [ QUIET ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ USE CURRENT </span><span class="f_mine" style="text-decoration: underline;">JFROM</span><span class="f_mine"> [ ALL ] ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">SYSTEM</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">(lens ID)</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">(object description)</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">(wavelengths)</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[color order]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">END</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">GOALS</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">ZOOMS </span><span class="f_mine" style="text-decoration: underline;">NZOOMS</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">GROUPS </span><span class="f_mine" style="text-decoration: underline;">NELS</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">NELS</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">NELS</span><span class="f_mine"> ...</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">ZGROUPS {0/Z} }0/Z) ...</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ ZFOCUS </span><span class="f_mine" style="text-decoration: underline;">TH0</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">JSN</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">DT</span><span class="f_mine"> [ </span><span class="f_mine" style="text-decoration: underline;">GIHT</span><span class="f_mine"> ] ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">GIHT </span><span class="f_mine" style="text-decoration: underline;">FIRST</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">LAST</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">WT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">PYA </span><span class="f_mine" style="text-decoration: underline;">FIRST</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">LAST</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">WT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">PUB </span><span class="f_mine" style="text-decoration: underline;">FIRST</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">LAST</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">WT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">BACK </span><span class="f_mine" style="text-decoration: underline;">BK</span><span class="f_mine">  </span><span class="f_mine" style="text-decoration: underline;">BWT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ PRISM </span><span class="f_mine" style="text-decoration: underline;">PTH</span><span class="f_mine"> ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">FINAL</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">{ OBA ... / OBB ... }</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">ZSPACE [ ANG / APER / COMB / NONLIN </span><span class="f_mine" style="text-decoration: underline;">EXP</span><span class="f_mine"> / LINEAR / ENDS / ITEMIZE / WIDE ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">APS </span><span class="f_mine" style="text-decoration: underline;">IAPS</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ SINGLE [ CASE nnn] ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ SAMPLE ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ MONITOR ZOOM </span><span class="f_mine" style="text-decoration: underline;">nb</span><span class="f_mine"> ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">RSTART </span><span class="f_mine" style="text-decoration: underline;">RD1</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">RD2</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">RD3</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">RD4</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">THSTART </span><span class="f_mine" style="text-decoration: underline;">TH</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">ASTART </span><span class="f_mine" style="text-decoration: underline;">ATH</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">RT </span><span class="f_mine" style="text-decoration: underline;">RT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">NPASS </span><span class="f_mine" style="text-decoration: underline;">NP</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">TRACK</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">STATISTICS</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">NOLOAD</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">COLOR { MONO / P / 3 / M }</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ AFOCAL ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ OPD  </span><span class="f_mine" style="text-decoration: underline;">WOPD</span><span class="f_mine"> ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ TOPD  </span><span class="f_mine" style="text-decoration: underline;">WOPD</span><span class="f_mine"> ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ TSONLY ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ PDIST ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ REVERT ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ DELAY { </span><span class="f_mine" style="text-decoration: underline;">SECONDS</span><span class="f_mine"> / OFF } ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ RANDOM </span><span class="f_mine" style="text-decoration: underline;">CASES</span><span class="f_mine"> ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">FOV </span><span class="f_mine" style="text-decoration: underline;">HBAR</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">HBAR</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">HBAR</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">HBAR</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">HBAR</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">HBAR</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">FWT </span><span class="f_mine" style="text-decoration: underline;">WT</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">WT</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">WT</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">WT</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">WT</span><span class="f_mine"> </span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">NGRID </span><span class="f_mine" style="text-decoration: underline;">GRID</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">SNAP </span><span class="f_mine" style="text-decoration: underline;">NPASSES</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">ANNEAL </span><span class="f_mine" style="text-decoration: underline;">TEMP</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">COOL</span><span class="f_mine"> [Q/0] </span><span class="f_mine" style="text-decoration: underline;">APASSES</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine" style="text-decoration: underline;">[</span><span class="f_mine"> DAMPING </span><span class="f_mine" style="text-decoration: underline;">DAMP</span><span class="f_mine"> ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ WAC </span><span class="f_mine" style="text-decoration: underline;">angle</span><span class="f_mine"> ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ {QUICK / QPLUS / QMINUS} </span><span class="f_mine" style="text-decoration: underline;">NQUICK</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">NREAL</span><span class="f_mine"> ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">KEEP </span><span class="f_mine" style="text-decoration: underline;">NKEEP</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">ZMOMENT </span><span class="f_mine" style="text-decoration: underline;">TAR</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">WT</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">WINDOW</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">GLASS {POSITIVE/NEGATIVE}</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">{ S/O/H/F/U/C/G/R/M/P } </span><span class="f_mine" style="text-decoration: underline;">glassname</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ PLASTIC [ </span><span class="f_mine" style="text-decoration: underline;">sn</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">sn</span><span class="f_mine"> ... ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ AGROUP ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">END</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">SPECIAL PANT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">(extra PANT entries)</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">END</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">SPECIAL AANT</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">(extra AANT entries)</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ ZOOM </span><span class="f_mine" style="text-decoration: underline;">NB</span><span class="f_mine"> ]</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">...</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">END</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">{ GO / EVAL }</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 38px;"><span class="f_mine">[ ZSEARCH PLOT ]</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The data that are required depend on which other options are selected, as explained below.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<div style="text-align: left; text-indent: 37px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 2px;"><table cellspacing="0" cellpadding="4" border="0" style="border:none; border-spacing:0px; border-collapse:collapse;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:213px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">LLIB</span></p>
</td>
<td colspan="5" style="vertical-align:top; width:960px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This is the number (1 to 10) of the library location that will receive the best of the lenses that are found.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:213px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">QUIET</span></p>
</td>
<td colspan="5" style="vertical-align:top; width:960px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">Since there can be a large number of cases to analyze, it is best to run in QUIET mode, to suppress all output to the Command Window until the process is complete. </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:213px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">USE CURRENT </span><span class="f_mine" style="text-decoration: underline;">JFROM</span><span class="f_mine"> [ ALL ]</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
<td colspan="5" style="vertical-align:top; width:960px; padding:4px; border:solid 1px #000000;"><p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">This entry is useful when you want ZSEARCH to find a set of elements that will follow an existing lens or portion thereof. &nbsp;The SYSTEM input is ignored, if entered, with this option. &nbsp;The first part of the current lens, up to surface </span><span class="f_mine" style="text-decoration: underline;">JFROM</span><span class="f_mine">-1 remains in place, and the requested number of elements is added starting at surface </span><span class="f_mine" style="text-decoration: underline;">JFROM</span><span class="f_mine">. &nbsp;To find a relay section that will couple to an objective, for example, this may do the job.</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">The object data in the current lens are assigned to zoom 1, and other zooms are created and spaced in accordance with the FINAL data.</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">The original portion of the lens is by default not altered by ZSEARCH in this case, although the airspace before the added lenses is varied. &nbsp;That lets you optimize the added lenses without changing the elements that come before them. &nbsp;In the event that you want all lenses to be varied, put the word &quot;ALL&quot; in word four of the declaration.</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">If &quot;ALL&quot; is requested, the program deletes all hard <a href="um331.htm#cao" class="topiclink">CAO</a>s and all <a href="um78.htm#efile" class="topiclink">EFILE</a> data on the current lens before adding the zoom groups. It also removed any WAP declaration, since WAP 2 and 3 require a hard CAO on the stop surface, which has been removed.</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">One use of this feature is for designing very wide-angle lenses, where ZSEARCH cannot normally find many combinations that will trace. &nbsp;Just work up a front end that traces and sends light at a more shallow angle into the remainder, and then use ZSEARCH to find lenses that will work in that situation. &nbsp;(But see if the</span><span class="f_mine" style="font-weight: bold;"> WAC</span><span class="f_mine"> option, which is simpler, will also do the job, if the angle does not exceed 90 degrees.)</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">When you specify the zooming groups, the surface numbers apply without regard to the current lens. &nbsp;Thus, if you want to retain a cemented doublet in the USE CURRENT lens, and the added elements will start at surface 4, the zooming groups should be numbered as though the USE CURRENT option was </span><span class="f_mine" style="font-style: italic;">not</span><span class="f_mine"> selected and the added surfaces start at 1. &nbsp;The program will renumber them later when it adds the current elements in front.</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:213px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">ZOOMS </span><span class="f_mine" style="text-decoration: underline;">NZOOMS</span></p>
</td>
<td colspan="5" style="vertical-align:top; width:960px; padding:4px; border:solid 1px #000000;"><p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">Here you specify how many zoom positions you want to correct simultaneously, up to 15. &nbsp;A larger zoom range will require more positions; a range of 5X will probably work well with 8 positions, while a range of 25X may need all 15.</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:213px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">GROUPS </span><span class="f_mine" style="text-decoration: underline;">NELS</span><span class="f_mine"> ...</span></p>
</td>
<td colspan="5" style="vertical-align:top; width:960px; padding:4px; border:solid 1px #000000;"><p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">Here is where you specify the basic construction of your zoom lens. &nbsp;It is common practice to employ four groups of elements; two elements in front for range focusing, two zooming groups, and a fixed group before the image. &nbsp;For example, to design a lens with four groups such as this, one could enter</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">GROUPS 2 3 2 2</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">This says that the first group has two element, the second three, and so on.</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">The lens must have from three to 10 groups defined</span></p>
<p class="p_mine" style="margin: 0px 0px 0px 5px;"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:213px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">ZGROUP ...</span></p>
</td>
<td colspan="5" style="vertical-align:top; width:960px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This input specifies which groups will zoom. &nbsp;In the above case, you would declare groups two and three to be zooming with the entry</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">ZGROUP 0 Z Z 0</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">You must declare at least one zooming group.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:213px; padding:4px; border:solid 1px #000000;"><p class="p_mine" style="margin: 0px 34px 0px 0px;"><a name="zsearch_zfocus"></a><span class="f_mine">ZFOCUS ...</span></p>
</td>
<td colspan="5" style="vertical-align:top; width:960px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This input directs the program to create merit function entries for a second object distance </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">TH0</span><span class="f_mine">, adjusting the specified airspace following surface </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">JSN</span><span class="f_mine"> by the amount </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">DT</span><span class="f_mine">. &nbsp;The optional </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">GIHT</span><span class="f_mine"> entry adjusts the new YPP0 at the new TH0 to get a new GIHT close to the entered value.  </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">This last step is appropriate only if the focal length of the lens is already close to the desired value, which is usually not the case during the quick phase. &nbsp;So this entry is ignored then and is implemented only during the real optimization phase that follows, when the lenses are already reasonable. &nbsp;If </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">GIHT</span><span class="f_mine"> is omitted or zero, the program scales YPP0 at the new TH0 by the same ratio as TH0, which yields about the same object angle and is close enough for the quick phase, and does not do the last adjustment.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">If QUICK is </span><span class="f_mine" style="font-style: italic;">not</span><span class="f_mine"> requested, then all cases honor the </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">GIHT</span><span class="f_mine"> entry. &nbsp;In any event, the program adds the ZFOCUS directive to the AANT file it prepares in the MACro ZSEARCH_OPT.MAC.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The purpose of all this is to find designs that work well at two different object distances.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:213px; padding:4px; border:solid 1px #000000;"><p class="p_mine" style="margin: 0px 34px 0px 0px;"><span class="f_mine">SINGLE [CASE nnn]</span></p>
</td>
<td colspan="5" style="vertical-align:top; width:960px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">Use this to examine only a single case. &nbsp;The program will create an example with alternating surface powers and then subject that case to the usual optimization steps. &nbsp;This can be useful for finding errors in the input, since it will run quickly. &nbsp;Unlike the corresponding option in DSEARCH, you cannot enter the powers explicitly yourself in this case, but you can specify a given case number.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Using the EVAL option instead of GO will do the same thing.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:213px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">GIHT </span><span class="f_mine" style="text-decoration: underline;">FIRST</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">LAST</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">WT</span></p>
</td>
<td colspan="5" style="vertical-align:top; width:960px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">The first-order characteristics of your zoom lens are controlled by the object coordinates at both ends of the zoom range and by the Gaussian image height (GIHT) at the image over the zoom. &nbsp;If the two GIHT targets are not equal, the program will adjust the weights assigned to ray aberrations by the inverse of this value. &nbsp;Thus, a zoom with a smaller GIHT target, which covers a smaller field and requires a smaller image, will get a higher weight so those rays are better corrected. &nbsp;OPD targets are not affected.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">These goals are added to the AANT file, with weight </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">WT</span><span class="f_mine">.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:213px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">PYA </span><span class="f_mine" style="text-decoration: underline;">FIRST</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">LAST</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">WT</span></p>
<p class="p_mine"><span class="f_mine">PUB </span><span class="f_mine" style="text-decoration: underline;">FIRST</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">LAST</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">WT</span></p>
</td>
<td colspan="5" style="vertical-align:top; width:960px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">These directives are intended for when the output is to be collimated. &nbsp;One should declare the system AFOCAL in the GOALS section, and then specify the desired first-order characteristics with these options. &nbsp;PYA is the paraxial semi-aperture of the exit beam at the next-to-last surface, and PUB is the tangent of the exit paraxial chief ray angle.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">These goals are added to the AANT file, with weight </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">WT</span><span class="f_mine">.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:213px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">FINAL / { OBA... / OBB...)</span></p>
</td>
<td colspan="5" style="vertical-align:top; width:960px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This input declares the object coordinates to be assigned to the last zoom position. &nbsp;(The system data above apply to the first position.) &nbsp;Other zoom objects are constructed between these two according to the ZSPACE directive.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:213px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">ZSPACE [ ANG / APER / COMB / NONLIN </span><span class="f_mine" style="text-decoration: underline;">EXP</span><span class="f_mine"> / LINEAR / ENDS / ITEMIZE / WIDE ]</span></p>
</td>
<td colspan="5" style="vertical-align:top; width:960px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This declaration tells the program how to distribute the first-order characteristics over the zoom range. &nbsp;The default is ANG, which makes the object angle vary linearly from the first to last zoom. &nbsp;The APER option distributes the object points so that the paraxial YMP1 varies linearly over the range instead.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">In both cases, the other parameter is adjusted so that the Lagrange invariant is constant in object space. &nbsp;The result is nonlinear, often markedly so, which can cause problems in optimization since the aberrations can change rapidly right at one end of the zoom range. &nbsp;To avoid this problem the COMB option makes a compromise distribution, the average of the first two options. &nbsp;For wide zoom ratios, it can work better.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">A third option is available for when you want more explicit control over the distribution of zoom positions. &nbsp;This is the NONLIN option, where you give the exponent that will scale the zoom range. &nbsp;The effect is to model the aperture range nonlinearly, with more points located near one end than at the other. &nbsp;We have used this for a 90:1 zoom lens, and found an exponent of 2.5 was quite effective. &nbsp;To test whether a given ZSPACE is effective, do a sample of one case and then request CAM 100 APERT to see how the zooms are distributed over the aperture.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">For example, requesting ZSPACE NONLIN 0.5 will cluster the zoom positions near the last zoom, while ZSPACE NONLIN 1.5 will cluster them more near zoom 1. &nbsp;ZSPACE NONLIN 1.0 spaces them uniformly.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">A fourth option (LINEAR) scales the user-entered values of TH0, YMP1, and YP0 over the zoom range, </span><span class="f_mine" style="font-style: italic;">without </span><span class="f_mine">adjusting for a constant Lagrange invariant. &nbsp;If your lens is not well modeled with a constant invariant, this option may be appropriate.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The ENDS option adjusts the spacing so that more zooms show up at both ends of the range. &nbsp;We often note that aberrations are worst at both ends, and well controlled near the center, so this option should work well when that happens. &nbsp;The Lagrange invariant is honored and is required: the input field and aperture must reflect the invariant..</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">You are encouraged to experiment with this setting. &nbsp;Use the ANG option at first (the default) and look at how the aberrations change over the zoom. &nbsp;If they appear out of control at one end or the other, then the NONLIN option may work better. &nbsp;If they are bad at both ends, then try the ENDS option.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">For object type OBD, the systems are always linear in angle.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The </span><span class="f_mine" style="font-weight: bold;"><a href="um1073.htm#itemizezs" class="topiclink">ITEMIZE</a> </span><span class="f_mine">option is explained below.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:213px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">BACK </span><span class="f_mine" style="text-decoration: underline;">BK</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">BWT</span></p>
</td>
<td colspan="5" style="vertical-align:top; width:960px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">The desired back focal distance. &nbsp;This is required input. &nbsp;Tthe back focus will start at the value </span><span class="f_mine" style="text-decoration: underline;">BK</span><span class="f_mine">, and in quick mode this value will stay fixed. &nbsp;In the real-ray phase it will vary if BWT is nonzero, and in that case a target will be added to the merit function to keep it at that value, with a weight of </span><span class="f_mine" style="text-decoration: underline;">BWT</span><span class="f_mine">. &nbsp;If the final value is not critical, you can put a low weight on that quantity.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine"> All zooms will focus at the same location unless the last surface is part of a zoom group or the group immediately before it zooms.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:213px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">[ PRISM </span><span class="f_mine" style="text-decoration: underline;">PTH</span><span class="f_mine"> ]</span></p>
</td>
<td colspan="5" style="vertical-align:top; width:960px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">Use this option if the zoom lens will be followed by a cover glass or prism of some kind. &nbsp;The latter will contribute aberrations of its own, and it is best to incorporate this element at the start of the search process. &nbsp;It will be modeled as a block of glass assigned a GLM index corresponding to glass type N-BK7 from the Schott company.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">After the search is completed, you can replace that block of glass with whatever prism you wish and assign the index of the glass to be used. &nbsp;The aberration correction should be fairly close already, and you can then re-optimize the system with the correct data.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Note that this option differs from the COVER option available for DSEARCH. &nbsp;The added prism block is not counted as part of the defined zoom groups, but is added at the end of the lens.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:213px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">APS </span><span class="f_mine" style="text-decoration: underline;">IAPS</span></p>
</td>
<td colspan="5" style="vertical-align:top; width:960px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">The zoom lens must contain an aperture stop, and to maintain the same F/number over the zoom range one usually assigns that stop to the final group. &nbsp;The location is not varied, and ZSEARCH does not use the variable YP1 (as does DSEARCH) since that does not work with zoom lenses.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">You are allowed to input a negative number, causing the stop to be declared real -- but be careful.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Many of the configurations will show ray failures on the first pass, especially if the input angle is large, and the program routinely corrects those failures with an automatic feature. &nbsp;But it cannot correct pupil search failures, and if any occur, that case is skipped.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">We recommend that, except for simple problems, you ask for a paraxial pupil and then add a target to the AANT file if it is necessary to correct the chief-ray intercept at the stop. &nbsp;That will control pupil aberrations, and when the final design is optimized, you can usually just declare a real stop at that time.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="3" style="vertical-align:top; width:219px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">[ MONITOR ZOOM </span><span class="f_mine" style="text-decoration: underline;">nb</span><span class="f_mine"> ]</span></p>
</td>
<td colspan="3" style="vertical-align:top; width:942px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">The program automatically adds several </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;"><a href="um103.htm#monitor" class="topiclink">monitors</a></span><span class="f_mine"> to the AANT file that optimizes the zoom lenses, and by default, these are evaluated at the last zoom setting called for in the AANT file. &nbsp;With this optional input, you can request a different zoom instead.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">One often finds that the monitors are most needed at one end of the zoom or the other, and if the last zoom is not appropriate, this is where you select the one you want. &nbsp;Some of the monitors automatically consider all zoom positions; these are AEC, AAE, AGE, AFE, ADT, ACS, AZA, ALA, and AAC. &nbsp;The others only apply to a single zoom.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="3" style="vertical-align:top; width:219px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">RSTART </span><span class="f_mine" style="text-decoration: underline;">RD1</span><span class="f_mine"> …</span></p>
</td>
<td colspan="3" style="vertical-align:top; width:942px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This input specifies up to four values of the initial radius to be tested by the program. &nbsp;When the program constructs each element, it assigns a radius, with the appropriate sign, cycling over the entered values, or randomly, to each side. &nbsp;Entering a very long radius will usually produce different results from using short radii. &nbsp;You will have to experiment to find what value works best in your case. &nbsp;The default is 100 inches (or 2540 mm) radius.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Since a run on ZSEARCH is many times longer than on DSEARCH, it is probably not a good idea to specify more than a single RSTART value, since that will take longer yet.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">In random mode, only the first parameter has effect; it gives the shortest radius that will be assigned to any surface.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">If the starting radius is too short, there will probably be many ray failures, which are hard to fix, although the program tries its best. &nbsp;Look at the listing at the end, which tells you the total number of cases that were attempted and the number that had to be skipped because they simply did not work. &nbsp;If the latter number is large, then you probably need to enter (or override) the starting radius with a larger number.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">You can also use the mnemonic RDSTART.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">This parameter is not applied if the PDIST option is selected.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="3" style="vertical-align:top; width:219px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">THSTART </span><span class="f_mine" style="text-decoration: underline;">TH</span></p>
</td>
<td colspan="3" style="vertical-align:top; width:942px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This input gives the starting value of lens thicknesses and airspaces. &nbsp;The default is 0.1 inches. &nbsp;You may request a different value, but it should be positive and nonzero.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">You can also use the mnemonic TSTART.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="3" style="vertical-align:top; width:219px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">ASTART </span><span class="f_mine" style="text-decoration: underline;">ATH</span></p>
</td>
<td colspan="3" style="vertical-align:top; width:942px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">The default airspace value is equal to THSTART, but you can follow that entry with a different value if you wish, entered with this mnemonic.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="3" style="vertical-align:top; width:219px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">RT </span><span class="f_mine" style="text-decoration: underline;">RT</span></p>
</td>
<td colspan="3" style="vertical-align:top; width:942px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This entry specifies the value of the aperture-dependent weighting to be assigned to rays in a ray grid. &nbsp;See </span><span class="f_mine" style="text-decoration: underline;"><a href="um10311.htm" class="topiclink">Section 10.3.1.1</a></span><span class="f_mine"> for details.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="3" style="vertical-align:top; width:219px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">NPASS </span><span class="f_mine" style="text-decoration: underline;">NP</span></p>
</td>
<td colspan="3" style="vertical-align:top; width:942px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">The number of passes to be made during optimization. &nbsp;The time required for all of the cycles, including optimization and annealing can get long rather easily. &nbsp;Too few passes yields poorer lenses, while too many passes take a long time. &nbsp;The default is 25 passes. &nbsp;If the number of elements is small, on the other hand, you can request a larger number, say 50, and each case will be closer to optimum. &nbsp;Fewer annealing passes can then be requested. &nbsp;You can experiment with the number of passes and number of annealing passes, to find the most reliable results in the shortest time.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Users who have experience with other programs -- whose optimization is many times slower than that in SYNOPSYS -- may by habit think they have to request hundreds of iterations. &nbsp;That is a bad idea. &nbsp;Start with perhaps 20 passes and see how good the results are. &nbsp;Increase it gently if needed. &nbsp;But remember, if you ask for, say 600 quick and 600 real passes, the job will seem to hang, since each case is finished </span><span class="f_mine" style="font-style: italic;">very</span><span class="f_mine"> slowly. &nbsp;Be warned!</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">This input is overridden by any QUICK input, if entered, but the original value is used when the program makes the final optimization MACro ZSEARCH_OPT.MAC.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="3" style="vertical-align:top; width:219px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">COLOR ...</span></p>
</td>
<td colspan="3" style="vertical-align:top; width:942px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This option controls which colors are corrected in the real-ray optimization phase. &nbsp;There are three arguments: &quot;MONO&quot; or &quot;P&quot; will only target rays in the primary color. &nbsp;It is automatic if the lens has fewer than two colors defined. &nbsp;The number &quot;3&quot; will target the primary, long, and short wavelengths, and &quot;M&quot; will target all colors defined in the lens.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="3" style="vertical-align:top; width:219px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">[ AFOCAL ]</span></p>
</td>
<td colspan="3" style="vertical-align:top; width:942px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">If you want your lens to be AFOCAL, put this entry into the GOALS section. &nbsp;The program will add an extra dummy surface at the end and put the lens into that mode.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">For this case, the first-order requirements are given by the input for GIHT, where the values will be the paraxial YA at the next-to-last surface.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="3" style="vertical-align:top; width:219px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">OPD </span><span class="f_mine" style="text-decoration: underline;">WOPD</span><span class="f_mine"> </span></p>
</td>
<td colspan="3" style="vertical-align:top; width:942px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">DSEARCH by default creates an optimization MACro consisting of transverse ray aberrations. &nbsp;Entering this parameter results in OPD targets instead. &nbsp;You can experiment with this setting, to see which works best for your lens.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The weighting factor </span><span class="f_mine" style="text-decoration: underline;">WOPD</span><span class="f_mine"> is used to account for the scale difference between ray and OPD aberrations. This means an error of one wave is usually better than an error of one inch, for example. &nbsp;If word two is blank, the program will use the number 1.0. &nbsp;Or you can enter your own value.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="3" style="vertical-align:top; width:219px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">TOPD </span><span class="f_mine" style="text-decoration: underline;">WOPD</span></p>
</td>
<td colspan="3" style="vertical-align:top; width:942px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">If this option is selected, the program will create an optimization MACro containing </span><span class="f_mine" style="font-style: italic;">both</span><span class="f_mine"> transverse and OPD errors. &nbsp;This is potentially a way to obtain higher resolution lenses, and you are encouraged to experiment with this option. &nbsp;Since more raytracing is involved, it will take longer to run than the default TAP or optional OPD settings.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="3" style="vertical-align:top; width:219px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">TSONLY</span></p>
</td>
<td colspan="3" style="vertical-align:top; width:942px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">Since running ZSEARCH can be a lengthy process, one would like to speed things up where possible. &nbsp;This option, if selected, will make the program correct only TFAN and SFAN rays in the real-mode pass and for the final merit function. &nbsp;If the F/number of the system is not particularly low, it may not be necessary to correct rays in the quadrants of the pupil, and you can achieve excellent results with fewer rays that will run more quickly.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="3" style="vertical-align:top; width:219px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">REVERT</span></p>
</td>
<td colspan="3" style="vertical-align:top; width:942px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This option only applies in quick mode. &nbsp;After a candidate lens is optimized for 3</span><span class="f_mine" style="vertical-align: super;">rd</span><span class="f_mine"> and 5</span><span class="f_mine" style="vertical-align: super;">th</span><span class="f_mine"> order aberrations, the merit function is used to rate that configuration relative to all the others. &nbsp;But the resulting lens may not be the best possible design with that construction, and starting from that minimum may in some cases prevent the program from reaching a better minimum. &nbsp;This option will revert to the input data for that case after rating it per the quick optimization results, so the real-ray optimization will not start in that local minimum. &nbsp;It seems to matter mostly with very difficult designs of low F/number.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="3" style="vertical-align:top; width:219px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">DELAY {</span><span class="f_mine" style="text-decoration: underline;">SECONDS</span><span class="f_mine"> / OFF}]</span></p>
</td>
<td colspan="3" style="vertical-align:top; width:942px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">Used only for multicore operation. &nbsp;In the unlikely event that one of the cores fails to terminate normally (and turns into a “zombie” process), the program will wait for </span><span class="f_mine" style="text-decoration: underline;">SECONDS</span><span class="f_mine"> seconds after the main core has finished and then display a dialog that lets you terminate the process on all other cores by clicking the OK button. &nbsp;The default delay is 60 seconds. &nbsp;If the other cores appear to be working properly – but not yet finished – just wait until the progress bars have all been relaxed before you click the button. Then the program will finish normally.  </span><span class="f_mine" style="font-weight: bold;">OFF</span><span class="f_mine"> sets the timer to a large number so it never goes off. &nbsp;The default is OFF.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">This option is seldom needed, since all the higher cores display a progress window with a STOP button and can be terminated that way if you want. &nbsp;Clicking the stop-sign button on the top toolbar will abort all running higher cores. </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="3" style="vertical-align:top; width:219px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">WAC </span><span class="f_mine" style="text-decoration: underline;">angle</span></p>
</td>
<td colspan="3" style="vertical-align:top; width:942px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">When a very wide field angle is input to ZSEARCH, there is a good chance that most or all of the rays traced for optimization will fail to get through the entire lens.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The </span><span class="f_mine" style="font-weight: bold;">WAC</span><span class="f_mine"> option is a simple and often effective method of avoiding those ray failures. &nbsp;You enter an angle, in degrees, that is smaller than the object angle, and the program adjusts the curvature of surface 2 via a paraxial UPC solve with the angle as a target. &nbsp;This reduces the chief-ray angle paraxially and improves the odds that real rays will then trace. &nbsp;After the curvature is thus found, the solve is deleted and the curvature variable is again available as usual. &nbsp;The maximum field angle should be in ZOOM 1 for this to work, and the input angle must be less than 90 degrees.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="3" style="vertical-align:top; width:219px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">PDIST</span></p>
</td>
<td colspan="3" style="vertical-align:top; width:942px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This option overrides the user-entered RSTART parameter and instead distributes the desired amount of optical power among the positive and negative elements according to a simple algorithm. &nbsp;The purpose is to avoid combinations of very strong curves that will require ray-failure correction. &nbsp;It also deletes any combinations where the number of negative elements is greater than half of the total number, so the operation runs somewhat more quickly.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="4" style="vertical-align:top; width:137px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">TRACK</span></p>
</td>
<td colspan="2" style="vertical-align:top; width:933px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">The program automatically displays a progress bar so you can see how far it has progressed. &nbsp;The TRACK option replaces this with a small window that monitors each case and reports the current and best merit function values.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="4" style="vertical-align:top; width:137px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">STATISTICS</span></p>
</td>
<td colspan="2" style="vertical-align:top; width:933px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This option will create and display a plot showing the statistics of the entire run, where the abscissa is the log of the merit function and the ordinate is the number of cases whose merit was close to that value. </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="4" style="vertical-align:top; width:137px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">NOLOAD</span></p>
</td>
<td colspan="2" style="vertical-align:top; width:933px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">Use this option if you do not want the program to open the file ZSEARCH_OPT.MAC. &nbsp;That file is automatically created and is often useful, but if you plan to use your own optimization MACro after the search completes, you don’t need to see the automatic one.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="4" style="vertical-align:top; width:137px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">NGRID </span><span class="f_mine" style="text-decoration: underline;">GRID</span></p>
</td>
<td colspan="2" style="vertical-align:top; width:933px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This entry controls the grid number for the rays optimized by DSEARCH, and you can specify any number from 1 to 50. &nbsp;The default works pretty well, so only change this if you know what you are doing. &nbsp;The default calls for 4 rays in the half-pupil.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="4" style="vertical-align:top; width:137px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">RANDOM </span><span class="f_mine" style="text-decoration: underline;">CYCLES</span></p>
</td>
<td colspan="2" style="vertical-align:top; width:933px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This option creates candidate lenses by assigning a random fraction of the entered (or default) values of RSTART, THSTART, and ASTART. &nbsp;The total number of cases to analyze is then given by </span><span class="f_mine" style="text-decoration: underline;">CYCLES</span><span class="f_mine">, with a default of 200 cases. &nbsp;See below for more information.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:top; width:119px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">FOV …</span></p>
</td>
<td colspan="4" style="vertical-align:top; width:951px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This input lets you override the default three field points. &nbsp;Here, you may enter the desired HBAR value for up to six points. &nbsp;Only the first field may be zero; zeros entered elsewhere terminate the list.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:top; width:119px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">FWT …</span></p>
</td>
<td colspan="4" style="vertical-align:top; width:951px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">These entries define the field weights to be applied. &nbsp;The default weights (for HBAR 0, 0.75, 1.0) are 5, 3, 1.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="5" style="vertical-align:top; width:217px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">{QUICK / QPLUS / QMINUS} </span><span class="f_mine" style="text-decoration: underline;">NQUICK</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">NREAL</span></p>
</td>
<td style="vertical-align:top; width:1008px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This optional input is intended to speed up the often rather lengthy search process. &nbsp;There are three flavors:</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">QUICK</span><span class="f_mine"> causes the program to first do a quick screening pass, evaluating all potential candidates and optimizing them with a special merit function that traces only three rays while targeting all of the monochromatic 3</span><span class="f_mine" style="vertical-align: super;">rd</span><span class="f_mine"> and 5</span><span class="f_mine" style="vertical-align: super;">th</span><span class="f_mine">-order aberrations (plus PAC and PLC if MONO is not in effect), and </span><span class="f_mine" style="font-weight: bold;">SPECIAL</span><span class="f_mine"> entries if there are any. &nbsp;This step executes very quickly because few rays are traced. &nbsp;Then it revisits each of the </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">NKEEP</span><span class="f_mine"> best results and optimizes those with the usual ray-based merit function. &nbsp;Since many very poor configurations will have been eliminated, the whole process runs much more quickly.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">QPLUS</span><span class="f_mine"> does the same but adds five more real rays to the screening pass. &nbsp;The first three rays are traced at the on-axis and full-field points, but in some cases rays can fail at intermediate fields. &nbsp;The extra five rays are traced at the 0.75 field as well, to better control those situations. &nbsp;Cases that fail when real rays are traced are not saved or listed on the plot, so if you get messages that the program cannot find some of the files when it is finished, that is probably why.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">QMINUS</span><span class="f_mine"> corrects only the 3</span><span class="f_mine" style="vertical-align: super;">rd</span><span class="f_mine"> and 5</span><span class="f_mine" style="vertical-align: super;">th</span><span class="f_mine">-order aberrations on the screening pass, and does not correct any real rays. &nbsp;This will run faster but may produce ray failures in the final pass.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The quick search in any case is performed with </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">NQUICK</span><span class="f_mine"> iterations, and the ray-based optimization phase is then executed with </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">NREAL</span><span class="f_mine"> iterations. &nbsp;(This procedure ignores the </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">NPASS</span><span class="f_mine"> request.) &nbsp;If </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">NREAL</span><span class="f_mine"> is zero, the program will not perform any optimization after the quick search is done, and you then see only the lenses that were produced in the first phase.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The improvement in speed depends on the number of cases involved.  </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The optimization MACro ZSEARCH_OPT.MAC will contain the normal definition, not the quick one.  </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">You are encouraged to experiment with this setting, and see if the lens configurations that come back are attractive.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:top; width:119px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">KEEP </span><span class="f_mine" style="text-decoration: underline;">NKEEP</span></p>
</td>
<td colspan="4" style="vertical-align:top; width:951px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This option limits the number of cases that are displayed, to </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">NKEEP</span><span class="f_mine">, which must be a number between 1 and 10. &nbsp;It is intended to speed up the QUICK mode even more: only this number of cases will survive the screening pass, and if it is fewer than the default 10 the process does not take as long. &nbsp;It makes little sense if QUICK mode is not in effect, however, since all cases will still be optimized. &nbsp;But only this number will be shown on the plot.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:top; width:119px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">SNAP </span><span class="f_mine" style="text-decoration: underline;">NPASSES</span></p>
</td>
<td colspan="4" style="vertical-align:top; width:951px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">Think carefully about using the snapshot feature here. &nbsp;While it can be informative to watch every cycle of every case, the job may take twice as long to run. &nbsp;If you do not request the snapshot, the PAD display will be updated only when the program saves a lens according to the above rules. &nbsp;If you request a value of </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">NPASSES</span><span class="f_mine"> of from 5 to 10, however, the display changes less frequently and there is little time lost. </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:top; width:119px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">ANNEAL …</span></p>
</td>
<td colspan="4" style="vertical-align:top; width:951px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">With this input you can specify annealing parameters. &nbsp;A higher temperature may produce more variety in your lenses. &nbsp;The cooling rate affects the run time: slower cooling will run longer and probably yield better lenses.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">ZSEARCH usually works better if you request some annealing. &nbsp;We suspect that some excellent lenses cannot be reached just by sliding downhill from the simple starting points created by the program. &nbsp;By creating some randomness in the process (or by using the RANDOM option) the program is more likely to see such cases.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">If the letter “Q” is entered in word four of the input line, the quick mode optimization will also perform an annealing cycle. &nbsp;Otherwise, annealing is performed only on the final optimization pass with real ray targets.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">If a value is input in word five, then the number of optimization iterations requested for the annealing cycles will be that number. &nbsp;Otherwise, it is the same as the number of passes given elsewhere, with five passes the default. &nbsp;It often happens that more annealing cycles, with fewer passes each time, works better than the reverse.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The default mode does not do any annealing.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:top; width:119px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">DAMP </span><span class="f_mine" style="text-decoration: underline;">DAMP</span><span class="f_mine"> </span></p>
</td>
<td colspan="4" style="vertical-align:top; width:951px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This specifies the initial damping for optimization in QUICK mode. &nbsp;The default is 1000, and you can experiment with different values to get different results.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:top; width:119px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">[ PSD { 2 / 3 } ]</span></p>
</td>
<td colspan="4" style="vertical-align:top; width:951px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">The optimization algorithms we have called PSD II and PSD III are both very effective, but because they take different paths through the design space, the end result is often quite different. &nbsp;They are selected via mode switches, and for convenience can be selected with this input as well. &nbsp;PSD III turns on switch 2, while PSD II turns it off. &nbsp;Both turn on switch 8. &nbsp;You are encouraged to run your ZSEARCH input both ways and select the results that best meet your needs.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">If this entry is omitted, the program retains the switch settings in effect before the search was started.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The program will restore the initial switch conditions after ZSEARCH has completed.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:top; width:119px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">SAMPLE</span></p>
</td>
<td colspan="4" style="vertical-align:top; width:951px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This input will create only a single case and will not optimize anything. &nbsp;What you get is therefore an example of what that case looks like, and you can check if the starting radii and thicknesses, and the system data, make sense. &nbsp;It also prepares the optimization MACro, which you can examine and try yourself to see what it does.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:top; width:119px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">ZMOMENT ...</span></p>
</td>
<td colspan="4" style="vertical-align:top; width:951px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">The arguments to this entry give the data for an AANT entry to control the 3rd moment of the CAM curve. &nbsp;It is possible to get a great design whose cam curves show wild oscillations, but which of course is not practical mechanically. &nbsp;See <a href="um1033.htm#zm3" class="topiclink">Section 10.3.3</a> and the <a href="um10712.htm#cam" class="topiclink">CAM STATISTICS</a> command for more information.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The AANT entry will add an LUL aberration with the entered target, weight, and window to all defined zoom groups.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:top; width:119px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">GLASS …</span></p>
</td>
<td colspan="4" style="vertical-align:top; width:951px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">In this section you can designate two glass types to be assigned to either positive or negative elements (considering only the assigned powers, not the power that results from a curvature solve.) &nbsp;If either of these designations is used, you must specify both of them; the glasses will then not be varied during optimization. &nbsp;This feature is intended for systems not in the visible, where the glass model is not appropriate.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The naming conventions are the same as glass-table glass entry in an RLE file (</span><span class="f_mine" style="text-decoration: underline;"><a href="um334.htm#gtb" class="topiclink">GTB</a></span><span class="f_mine">). &nbsp;See the last example in this section for a sample.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">In RANDOM mode, the glass types, if entered, are assigned at random to the lens elements.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:top; width:119px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">PLASTIC [ </span><span class="f_mine" style="text-decoration: underline;">sn</span><span class="f_mine"> </span><span class="f_mine" style="text-decoration: underline;">sn</span><span class="f_mine"> ... ]</span></p>
</td>
<td colspan="4" style="vertical-align:top; width:951px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">Here is where you can declare certain elements plastic. &nbsp;Then the glass model will be constrained to the plastic line and can easily be replaced with real plastics from the U catalog later. &nbsp;If no surface numbers are entered, all elements will be plastic. &nbsp;Otherwise only those elements whose first side number is given will be so declared.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:top; width:119px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">AGROUP</span></p>
</td>
<td colspan="4" style="vertical-align:top; width:951px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">When DSEARCH finishes, it creates an optimization MACro with all of the variables in a PANT file and a merit function in an AANT file. &nbsp;The latter by default contains a separate section listing the aberrations to be controlled in each zoom. &nbsp;Often, however, one wants the same merit function to apply to all zooms equally, and in this case, enter the optional</span><span class="f_mine" style="font-weight: bold;"> AGROUP</span><span class="f_mine"> entry. &nbsp;Then the MF will have a single ZGROUP ALL entry containing a single set of aberration definitions. &nbsp;Thus the file is much shorter, and if you later change the number of zooms, you will not have to edit the AANT file with the added ones since they will all be corrected automatically.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">This option should not be used if the several zooms are to have different properties, such as a different GIHT, in each one</span><span class="f_mine">. &nbsp;A warning message will be displayed if this is the case.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:top; width:119px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">SPECIAL</span></p>
</td>
<td colspan="4" style="vertical-align:top; width:951px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine">This section is where you can type anything that can go into an </span><span class="f_mine" style="text-decoration: underline;"><a href="um103.htm#aant" class="topiclink">AANT</a></span><span class="f_mine"> file, letting you control nearly anything you need. &nbsp;You do not have to enter any image-quality requests, since the default merit function takes care of this. &nbsp;But you could, for example declare the FOV input described above in the GOALS section with no arguments, thus defeating the default ray definitions – and then enter your own set here in the SPECIAL section. </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">If you want your lens to be telecentric, you might enter the line</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">M 0 1 A P HH 1 </span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">In this section. &nbsp;Or if distortion is an issue, you might add</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">M 0 10 A P YA 1</span></p>
<p class="p_mine"><span class="f_mine">S GIHT</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">to control it.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">This is where you can also enter any of the monitoring requests, such as </span><span class="f_mine" style="text-decoration: underline;"><a href="um103.htm#monitor" class="topiclink">AEC</a></span><span class="f_mine">, ACC, ACA, AZA, ACM, ASA, AAC, AGE, or AAE. &nbsp;The first four of these are automatically placed into the merit function by ZSEARCH, but if you want to override the default arguments, you can enter your own request in this section. &nbsp;See the link for AEC for details of these monitors.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">The formats for this section must follow the AANT file formats, or the process will abort. &nbsp;There is a limit of 40 lines for this section.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Note that &nbsp;entries in this section, except for monitor requests, normally apply to </span><span class="f_mine" style="font-style: italic;">all</span><span class="f_mine"> zooms. If you enter a </span><span class="f_mine" style="font-weight: bold;">ZOOM </span><span class="f_mine" style="font-weight: bold; text-decoration: underline;">NB</span><span class="f_mine"> declaration in this section, however, the next aberration request will be added to the AANT file in that zoom only.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">Monitors, if any, will show up in the optimization MACro only in the first zoom section unless the MONITOR input has declared differently. &nbsp;All monitors are actually evaluated only when all other aberrations have been computed, and for that reason actually apply only to the</span><span class="f_mine" style="font-style: italic;"> last</span><span class="f_mine"> zoom that has been declared. &nbsp;If your lens shows feathered edges in zoom 1, for example, and your merit function ends with aberrations at zoom 10 , then the AEC monitor will only correct edges in that zoom. &nbsp;In cases like this, simply add another aberration at the end of the AANT file that calls for the zoom with the most serious problem. &nbsp;For instance, the input</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">ZOOM 1</span></p>
<p class="p_mine"><span class="f_mine">M 0 1 A DELF</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine">will add a trivial aberration to the list and cause the monitors to then refer to zoom 1, since it is the last zoom referenced.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" style="vertical-align:top; width:119px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">{ GO / EVAL }</span></p>
</td>
<td colspan="4" style="vertical-align:top; width:951px; padding:4px; border:solid 1px #000000;"><p class="p_mine"><span class="f_mine" style="font-weight: bold;">GO</span><span class="f_mine"> starts the search process.</span></p>
<p class="p_mine"><span class="f_mine">&nbsp;</span></p>
<p class="p_mine"><span class="f_mine" style="font-weight: bold;">EVAL</span><span class="f_mine"> works the same as the SINGLE option: it runs a single case, with optimization. &nbsp;This executes quickly and you can see if the input was correct. &nbsp;If all seems in order, then you can run the full search.</span></p>
</td>
</tr>
</table>
</div>
<p style="margin: 0px 0px 0px -7px;">&nbsp;</p>
<p style="margin: 0px 0px 0px -7px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 17px;"><a name="itemizezs"></a><span style="font-size: 11pt;">The many ZSPACE options allow the user to space the zoom positions in various ways, so that if aberrations are more difficult to correct at one end or the other the program can group the positions more closely where needed. &nbsp;Whereas the other options are simple to use -- and quite effective -- sometimes a user will want explicit control over those positions. &nbsp;This is the function of the </span><span style="font-size: 11pt; font-weight: bold;">ZSPACE ITEMIZE</span><span style="font-size: 11pt;"> option. &nbsp;If this is selected, that entry must be followed by a list of all zoom positions and the object definition to be assigned to each one. &nbsp;A desired GIHT target is also required for each one. &nbsp;The format is this:</span></p>
<p style="margin: 0px 0px 0px 17px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 17px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">ZSPACE ITEMIZE</span></p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">ZOOM 1</span></p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">[OBA / OBB / OBD ] ...</span></p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">GIHT </span><span style="font-size: 11pt; text-decoration: underline;">giht</span></p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">ZOOM 2</span></p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">[OBA / OBB / OBD ] ...</span></p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">GIHT </span><span style="font-size: 11pt; text-decoration: underline;">giht</span></p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">ZOOM 3</span></p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">[OBA / OBB / OBD ] ...</span></p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">GIHT </span><span style="font-size: 11pt; text-decoration: underline;">giht</span></p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">...</span></p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">ZOOM </span><span style="font-size: 11pt; text-decoration: underline;">n</span></p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">[OBA / OBB / OBD ] ...</span></p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">GIHT </span><span style="font-size: 11pt; text-decoration: underline;">giht</span></p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">END</span></p>
<p style="margin: 0px 0px 0px 17px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">There are restrictions to this feature. &nbsp;All zooms must be accounted for in the list, and all must use the same object type. &nbsp;Thus if zoom 1 uses object type OBA, all zooms must use that type, and so on. &nbsp;Only the three object types listed are supported by this feature.</span></p>
<p style="margin: 0px 0px 0px 17px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">Some users would prefer to designate the FNUM instead of the GIHT at each zoom. &nbsp;But the program only accepts GIHT targets, so you must convert from one to the other. &nbsp;Thus:</span></p>
<p style="margin: 0px 0px 0px 17px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">GIHT = 2.0*YMP1*FNUM*TAN(UPP0)</span></p>
<p style="margin: 0px 0px 0px 17px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">If the lens uses object OBD (for wide-angle lenses), replace the TAN(UPP0) with the value of the angle, in radians. &nbsp;Then you have the value of GIHT to specify with the input.</span></p>
<p style="margin: 0px 0px 0px 17px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">Be aware that this feature makes no attempt to keep the Lagrange Invariant under control. &nbsp;It is your responsibility to ensure that the assortment of objects and image heights are physically possible. &nbsp;The data should lie on a smooth curve, which is required by the CAM feature. &nbsp;It is easy to obtain a lens that meets your goals but cannot be realized in practice since there may well be no combination of clear apertures that will duplicate your requested first-order goals with real rays. &nbsp;So be warned.</span></p>
<p style="margin: 0px 0px 0px 17px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 17px;"><span style="font-size: 11pt;">If you itemize your zooms in this way, it is wise to first ask for but a single case. &nbsp;Then check the sign of the GIHT that results. &nbsp;That is a function of the object height, which is positive for some objects and negative for others. &nbsp;So it is wise to check before running a lengthy search. &nbsp;Also, be aware that if you request FILLSTOP or CSTOP, the program will adjust the entrance pupil to satisfy that request. &nbsp;In that case, your entered aperture data are ignored.</span></p>
<p style="margin: 0px 0px 0px -7px;">&nbsp;</p>
<p style="margin: 0px 0px 0px -7px;"><span style="font-size: 11pt;">Keep in mind that, the more elements you request, the longer the process will take: each additional element doubles the execution time. &nbsp;For that reason, it is wise to ask for a fairly simple construction at first, say two elements per group, and then, when the results are in, to optimize the best candidates and then use the <a href="um1017.htm#aei" class="topiclink">AEI</a> feature to add elements one by one where they will do the most good. &nbsp;That way you can build up your lens in a fairly short time.</span></p>
<p style="margin: 0px 0px 0px -7px;">&nbsp;</p>
<p><span style="font-size: 12pt; font-weight: bold;">Example ZSEARCH run:</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 11pt;">In this example we will design a 10x zoom lens for use in the visible spectrum. &nbsp;Here is the input:</span></p>
<p>&nbsp;</p>
<p><span style="font-family: 'Courier New Bold'; color: #7b0000; background-color: #dedede;">TIME</span><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;to see how long this run took</span></p>
<p><span style="font-family: 'Courier New Bold'; color: #7b0000; background-color: #dedede;">CORE</span><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;16 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;!</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;on our 8-core hyperthreaded PC</span></p>
<p><span style="font-family: 'Courier New Bold'; color: #7b0000; background-color: #dedede;">ZSEARCH</span><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;3 QUIET &nbsp; &nbsp; &nbsp; &nbsp;!</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;save results in library location 3</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">SYSTEM</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">ID ZSEARCH TEST</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">OBB 0 5 4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;!</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;infinite object, 5 degrees semi field, 4 mm semi aperture. &nbsp;This defines the wide-field object</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">UNI MM</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">WAVL CDF</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">END</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">GOALS</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">ZOOMS 10 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;!</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;request 10 zoom positions</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">GROUPS 3 3 3 2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;!</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;lens has four groups</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">ZGROUP 0 Z Z 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;!</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;and groups 2 and 3 will zoom</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">FINAL &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;!</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;declare the desired object at the last zoom position, which is the narrow field zoom</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">OBB 0 .5 40 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;!</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;object has 0.5 degrees semi field and 40 mm semi aperture. &nbsp;This implies a 10X zoom.</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">ZSPACE NONLIN 0.75 &nbsp; &nbsp; &nbsp;!</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;other zoom objects will be linearly spaced between the first and last</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">APS 19 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;!</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;put the stop on the first side of the last group</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">DELAY OFF &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;let other cores take longer before you are asked if you want to abort them</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">GIHT 3 3 10 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;the image height is 3 mm for all zooms, with a weight of 10.</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">BACK 10 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;the back focus is 10 mm and will not vary.</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">COLOR M</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">ANNEAL 50 10 Q &nbsp; &nbsp; &nbsp; &nbsp;!</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;anneal the lens as it is optimized</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">QUICK 30 30 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;10 passes in quick mode, 30 in real-ray mode</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">AGROUP</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">ZMOMENT 10 .1 10</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">END</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">SPECIAL AANT</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">!</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">LUL 300 1 1 A TOTL &nbsp; &nbsp; &nbsp;! uncomment this if you want to control the total length of the lens</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">AAC 45 1 5 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;request a maximum semi aperture on all elements of 45 mm</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">END</span></p>
<p><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">GO &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;start ZSEARCH</span></p>
<p><span style="font-family: 'Courier New Bold'; color: #7b0000; background-color: #dedede;">TIME</span><span style="font-family: 'Courier New Bold'; background-color: #ffffff;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !</span><span style="font-family: 'Courier New Bold'; color: #007b00; background-color: #ffffff;">&nbsp;see how long the run took.</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 11pt;">We run this job, and in about 18 minutes get the following lens:</span></p>
<p>&nbsp;</p>
<p><img src="clip0455.png" width="945" height="599" alt="clip0455" style="width:945px;height:599px;border:none"></p>
<p>&nbsp;</p>
<p><span style="font-size: 11pt;">The zoom motions are evident on a ZDWG plot:</span></p>
<p>&nbsp;</p>
<p><img src="clip0456.png" width="530" height="707" alt="clip0456" style="width:530px;height:707px;border:none"></p>
<p>&nbsp;</p>
<p><span style="font-size: 11pt;">We have indeed found a rather good 10X zoom lens meeting all of our specifications. &nbsp;Of course the lens is corrected only at the 10 zooms we requested. &nbsp;To learn how to improve it even more, please refer to Lessons 38 and 47 in the Online Tutorial at our website. &nbsp;But the hardest part of the task is already done!</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 11pt;">There are endless possibilities here. &nbsp;Feel free to experiment with the settings, and let us know if you find a combination that works especially well. &nbsp;We would like to document that too.</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um108.htm" class="topiclink">Next</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span><span style="font-size: 11pt; font-family: 'Times New Roman'; text-decoration: underline;"><a href="um.htm#um_contents" class="topiclink">TOC</a></span><span style="font-size: 11pt; font-family: 'Times New Roman';"> </span></p>
<p>&nbsp;</p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">

var lastSlashPos = document.URL.lastIndexOf("/") > document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("/") : document.URL.lastIndexOf("\\");
if( document.URL.substring(lastSlashPos + 1, lastSlashPos + 4).toLowerCase() != "~hh" )
{
 if (document.all) setTimeout(function() {nsrInit();},20); 
    else nsrInit();
 } 


</script>
</body>
</html>
